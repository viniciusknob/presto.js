!function(e){"use strict";const t={modules:{}};e.Presto=t}(window),function(e,t,n){var o,r,i,a,c,s;t.ga||(r=n,i="script",a="ga",(o=t).GoogleAnalyticsObject=a,o.ga=o.ga||function(){(o.ga.q=o.ga.q||[]).push(arguments)},o.ga.l=1*new Date,c=r.createElement(i),s=r.getElementsByTagName(i)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(c,s));const l={_SulAmerica:"G-MXK1RQ5VT5"},d={create:e=>{t.ga("create",{trackingId:l[e],cookieDomain:"auto",name:"prestoTracker"}),t.ga("prestoTracker.send","pageview")},sendEvent:(e,n,o,r=!0)=>{t.ga("prestoTracker.send",{hitType:"event",eventCategory:e,eventAction:n,eventLabel:o,nonInteraction:r})}};e.modules.Analytics=d}(Presto,window,document),function(e,t){"use strict";const{Analytics:n}=e.modules,o=function(){let e=void 0;return{getOrCreateDB:()=>{const o="_getOrCreateDB";return new Promise((r,i)=>{if(e)return r(e);if(!t)return n.sendEvent("error",`${o}.checkSupport`,"This browser doesn't support IndexedDB"),i();const a=t.open("PrestoDB");a.onerror=function(e){n.sendEvent("error",`${o}.indexedDB.open`,JSON.stringify(e)),i()},a.onsuccess=(t=>{(e=t.target.result).onerror=function(e){n.sendEvent("error",`${o}.db.any`,JSON.stringify(e))},r(e)}),a.onupgradeneeded=function(t){n.sendEvent("log",`${o}.onupgradeneeded`,JSON.stringify(t)),!1===(e=t.target.result).objectStoreNames.contains("person")&&e.createObjectStore("person",{keyPath:"uid"})}})},getAll:function(e){return new Promise(function(t,o){const r=[];e.transaction(["person"],"readonly").objectStore("person").openCursor().onsuccess=function(e){var o=e.target.result;o?(r.push(o.value),o.continue()):(n.sendEvent("log","_getAll.personList",`size ${r.length}`),console.log(`Before... ${JSON.stringify(r)}`),r.sort(function(e,t){return e.name.localeCompare(t.name)}),console.log(`After... ${JSON.stringify(r)}`),t(r))}})},addOrUpdateItem:function(e,t){const o="_addOrUpdateItem";return new Promise(function(r,i){const a=e.transaction(["person"],"readwrite");a.oncomplete=function(e){r()},a.onerror=function(e){n.sendEvent("error",`${o}.transaction`,JSON.stringify(e)),i()};const c=a.objectStore("person"),s=IDBKeyRange.only(t.uid),l=c.openCursor(s);l.onsuccess=function(e){let r;e.target.result?(n.sendEvent("log",`${o}.objectStore.put`,t.uid),r=c.put(t)):(n.sendEvent("log",`${o}.objectStore.add`,t.uid),r=c.add(t)),r.onerror=function(e){n.sendEvent("error",`${o}.objectStore.request`,JSON.stringify(e)),i()}},l.onerror=function(e){n.sendEvent("error",`${o}.cursor.open`,JSON.stringify(e)),i()}})}}}();e.modules.IndexedDB=o}(Presto,indexedDB),function(e,t){"use strict";const{Analytics:n,IndexedDB:o}=e.modules,r=function(){const e=/saude.sulamericaseguros.com.br/,r=/validacao-de-elegibilidade/,i=/validacao-de-elegibilidade\/elegibilidade-resultado/,a=/validacao-de-procedimentos(\/solicitacao)?/,c=/validacao-de-procedimentos\/consulta/,s=/fechamento-de-lote/,l=/validar-procedimento-autorizado/,d=function(e=[]){if(0===e.length)return null;let t=document.createElement("SELECT");t.style.cssText="vertical-align: middle;";let o=document.createElement("OPTION");return o.value="",o.textContent="ESCOLHA O BENEFICIÁRIO...",t.appendChild(o),t.onchange=(()=>{let e=t.querySelector(":checked");n.sendEvent("log","personSelected",e.value,!1),document.querySelector("#codigo-beneficiario-1").value=e.value.substr(0,3),document.querySelector("#codigo-beneficiario-2").value=e.value.substr(3,5),document.querySelector("#codigo-beneficiario-3").value=e.value.substr(8,4),document.querySelector("#codigo-beneficiario-4").value=e.value.substr(12,4),document.querySelector("#codigo-beneficiario-5").value=e.value.substr(16,4)}),e.forEach(e=>{let n=document.createElement("OPTION");n.value=e.uid,n.textContent=e.name,t.appendChild(n)}),t};return{is:function(){return e.test(t.host)},isLoaded:function(){return document.querySelector("#box-validacao-beneficiario")||document.querySelector(".box-indicador-elegibilidade")},fix:function(){if(i.test(t.pathname)){let t=document.querySelector(".box-indicador-elegibilidade .linha"),r=t.querySelector(".atencao").textContent;var e={uid:"",name:""};if(document.querySelectorAll(".linha").forEach(t=>{t.querySelectorAll("strong").forEach(t=>{if(t){let n=t.textContent;/Carteira/.test(n)&&(e.uid=t.parentElement.querySelector("span").textContent.replace(/\s/g,"")),/Nome/.test(n)&&(e.name=t.parentElement.querySelector("span").textContent)}})}),n.sendEvent("log","checkPersonEligibility",`${e.uid} => ${r}`),"SIM"===r){let r=document.createElement("DIV");r.id="js-presto-status",r.style="float:right;font-weight:bold;color:limegreen;",r.textContent="Salvando...",t.appendChild(r),o.getOrCreateDB().then(t=>o.addOrUpdateItem(t,e)).then(()=>{t.querySelector("#js-presto-status").textContent="Salvo!",n.sendEvent("log","personSaved",e.uid)}).catch(e=>{n.sendEvent("error","savePerson",JSON.stringify(e))})}}else o.getOrCreateDB().then(o.getAll).then(d).then(e=>{if(e){if(r.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]),document.querySelector(".box-padrao").style.width="850px"}if(a.test(t.pathname))if(c.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario");t.insertBefore(e,t.childNodes[2])}else{let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]),document.querySelector(".box-padrao").style.width="850px"}if(s.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2])}if(l.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario");t.insertBefore(e,t.childNodes[0]),document.querySelector(".box-padrao").style.width="780px"}}})}}}();e.modules.SulAmerica=r}(Presto,location),function(e,t,n){const{Analytics:o,SulAmerica:r}=e.modules,i=function(){var e=t(function(){(function(){if(r.is())return r.isLoaded()})()&&(n(e),r.is()&&(o.create("_SulAmerica"),r.fix()))},250)};e.bless=function(){i()}}(window.Presto,window.setInterval,window.clearInterval),function(e){let t=setInterval(()=>{e.Presto&&(clearInterval(t),console.log(e.Presto.bless()))},250)}(window);