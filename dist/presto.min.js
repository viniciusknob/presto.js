!function(e){"use strict";const t={env:"prd",models:{},modules:{},pages:{}};e.Presto=t}(window),function(e,t,o,n){"use strict";const a={write:e=>{if(t.clipboard&&o)return t.clipboard.writeText(e);{let t=n.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",n.body.appendChild(t),t.focus(),t.select(),new Promise(((e,o)=>{n.execCommand("copy")?e():o(),t.remove()}))}}};e.modules.Clipboard=a}(window.Presto,window.navigator,window.isSecureContext,window.document),function(e,t,o){"use strict";const n=function(){const e=(e,o)=>{const n=t.querySelector(e),a=Array.from(n.options).find((e=>new RegExp(o).test(e.textContent)));if(a){a.selected=!0;const e=new Event("change",{bubbles:!0});n.dispatchEvent(e)}},n={toText:(e,t)=>({type:"text",selector:e,value:t}),toSelect:(e,t)=>({type:"select",selector:e,value:t}),toFunc:e=>({type:"function",fn:e}),mapToFunc:o=>o.map((o=>{if("function"===o.type)return o.fn;{const{selector:n,value:a}=o;if("text"===o.type)return()=>t.querySelector(n).value=a;if("select"===o.type)return()=>e(n,a)}})),exec:async(e,t)=>{for(let o=0;o<e.length;o++)await Promise.resolve(e[o]()),o<e.length-1&&await new Promise((e=>setTimeout(e,t)))}};return{createSelectOptionsMonthYear:e=>{let o=t.createElement("label");o.textContent="Presto.js - Mês/Ano:";let n=t.createElement("select"),a=t.createElement("option");a.value="",a.textContent="Selecione...",n.appendChild(a);let r=(new Date).getFullYear(),i=(new Date).getMonth();for(let e=0;e>=-24;e--){let o=new Date(r,i+e,1),a=new Intl.DateTimeFormat("pt-BR",{month:"short"}).format(o),l=t.createElement("option");l.value=`${o.getMonth()}/${o.getFullYear()}`,l.textContent=`${a}/${o.getFullYear()}`,n.appendChild(l)}n.onchange=o=>{let n=o.target.value.split("/"),a=n[1],l=parseInt(n[0])+1,c=`${l}`.padStart(2,"0"),s=new Date(a,l,0).getDate();parseInt(a)===r&&parseInt(n[0])===i&&(s=(new Date).getDate()),t.querySelector(e.dateBeginFieldId).value=`01/${c}/${a}`,t.querySelector(e.dateEndFieldId).value=`${s}/${c}/${a}`};let l=t.createElement("div");return l.appendChild(o),l.appendChild(n),l},selectOption:e,selectFirstJQueryAutocomplete:(e,t)=>{const n=o(e);n.focus(),n.val(t),n.autocomplete("search");const a=setInterval((()=>{const e=n.autocomplete("widget").find("li.ui-menu-item:first");e?.length&&(clearInterval(a),e.trigger("mouseenter").trigger("click"))}),250)},getFirstWeekdayOfMonth:(e,t)=>{const o=new Date(e,t,1);return 6===o.getDay()?o.setDate(o.getDate()+2):0===o.getDay()&&o.setDate(o.getDate()+1),o},Taskier:n}}();e.modules.CommonsHelper=n}(window.Presto,window.document,window.jQuery),function(e,t){"use strict";const o={$$:(e,o=t)=>[...o.querySelectorAll(e)]};e.modules.DomHelper=o}(window.Presto,window.document),function(e){"use strict";const t=function(){const e=e=>{let t=document.createElement("div");if(t.classList.add("fab-icon-holder"),e){let o=document.createElement("i");o.classList.add(...e.split(" ")),t.appendChild(o)}else t.classList.add("fab-main","fab-image-holder");return t},t=t=>{let o=document.createElement("li");return o.appendChild((e=>{let t=document.createElement("span");return t.classList.add("fab-label"),t.textContent=e,t})(t.textLabel)),o.appendChild(e(t.iconClass)),o.onclick=t.click,o};return{build:o=>{let n=document.createElement("div");n.classList.add("fab-container");let a=document.createElement("ul");a.classList.add("fab-options"),o.forEach((e=>{a.appendChild(t(e))})),n.appendChild(e()),n.appendChild(a),document.body.appendChild(n)}}}();e.modules.FAB=t}(window.Presto),function(e){"use strict";const t=function(){const e="#presto-modal",t=()=>{let e=document.createElement("div");e.innerHTML='<div class="micromodal micromodal-slide" id="presto-modal" aria-hidden="true"><div class="modal__overlay" tabindex="-1" data-micromodal-close><div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="presto-modal-title"><header class="modal__header"><h2 class="modal__title" id="presto-modal-title"></h2><button class="modal__close" aria-label="Close modal" data-micromodal-close></button></header><main class="modal__content" id="presto-modal-content"></main><footer class="modal__footer"><button class="modal__btn modal__btn-primary" data-micromodal-close aria-label="Close this dialog window">Continue</button> <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button></footer></div></div></div>',document.body.appendChild(e.firstChild)},o=()=>{let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/micromodal/dist/micromodal.min.js",document.body.appendChild(e)};return{init:()=>{!function(...e){e.map((e=>setTimeout(e,25)))}(t,o)},open:t=>{const o=setInterval((()=>{let n=document.querySelector(e);n&&(clearInterval(o),n.querySelector(".modal__title").textContent=t.title,n.querySelector(".modal__content").innerHTML="",n.querySelector(".modal__content").appendChild(t.content),n.querySelector(".modal__btn-primary").onclick=t.mainAction,window.MicroModal.show(e.substring(1)))}),500)},helpers:{buildFormGroup:e=>{let t=document.createElement("div");t.classList.add("form-group");let o=document.createElement("label");o.htmlFor=e.input.id,o.textContent=e.textLabel,t.appendChild(o);let n=document.createElement("input");if(n.type=e.input.type||"text",n.classList.add("form-control"),n.id=e.input.id,e.input.value&&(n.value=e.input.value),t.appendChild(n),e.helpText){let o=document.createElement("small");o.classList.add("form-text","text-muted"),o.textContent=e.helpText,t.appendChild(o)}return t},buildFormCheck:e=>{let t=document.createElement("div");t.classList.add("form-check");let o=document.createElement("input");o.type="checkbox",o.classList.add("form-check-input"),o.id=e.input.id,e.input.value&&(o.value=e.input.value),t.appendChild(o);let n=document.createElement("label");return n.classList.add("form-check-label"),n.htmlFor=e.input.id,n.textContent=e.textLabel,t.appendChild(n),t}}}}();e.modules.Modal=t}(window.Presto),function(e){"use strict";const t=function(){const e="show",t=document.querySelector.bind(document);return{fire:o=>{let n=t("#snackbar");n||(n=document.createElement("div"),n.id="snackbar",t("body").appendChild(n)),n.textContent=o,n.classList.add(e),setTimeout((()=>{n.classList.remove(e)}),2850)}}}();e.modules.Snackbar=t}(window.Presto),function(e){"use strict";const t={inject:()=>{(()=>{let e=document.createElement("link");e.rel="stylesheet",e.href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css",document.head.appendChild(e)})(),(()=>{let e=document.createElement("style");e.innerHTML='.fab-container{position:fixed;bottom:50px;right:50px;z-index:9999;cursor:pointer}.fab-icon-holder{width:50px;height:50px;border-radius:100%;background-image:linear-gradient(to bottom right,#ba39be,#05b370);box-shadow:0 6px 25px rgba(0,0,0,.35)}.fab-image-holder{background-image:url(https://i.imgur.com/x6YRXy8.png);background-color:#fff;background-size:58px;background-repeat:no-repeat;background-position:right}.fab-icon-holder i{display:flex;align-items:center;justify-content:center;height:100%;font-size:25px;color:#fff}.fab-main{width:60px;height:60px}.fab-main::before{content:"";position:absolute;width:100%;height:100%;bottom:10px}.fab-options{list-style-type:none;margin:0;position:absolute;bottom:70px;right:0;opacity:0;transition:all .3s ease;transform:scale(0);transform-origin:85% bottom}.fab-main:hover+.fab-options,.fab-options:hover{opacity:1;transform:scale(1)}.fab-options li{display:flex;justify-content:flex-end;padding:5px}.fab-label{padding:2px 5px;align-self:center;user-select:none;white-space:nowrap;border-radius:3px;font-size:16px;background:#666;color:#fff;box-shadow:0 6px 20px rgba(0,0,0,.2);margin-right:10px}.icon-number-1::before{content:"①"}.icon-number-2::before{content:"②"}.icon-number-3::before{content:"③"}.icon-number-4::before{content:"④"}.icon-number-5::before{content:"⑤"}.micromodal{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif}.micromodal *{box-sizing:border-box}.modal__overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;z-index:999999}.modal__container{background-color:#fff;padding:30px;max-width:500px;max-height:80vh;border-radius:4px;overflow-y:auto;box-sizing:border-box;min-width:30%}.modal__container header,.modal__container main{padding:initial!important}.modal__header{display:flex;justify-content:space-between;align-items:center}.modal__title{margin-top:0;margin-bottom:0;font-weight:600;font-size:1.5rem;line-height:1.5;color:#ba39be;box-sizing:border-box}.modal__close{background-color:transparent!important;border:0}.modal__close:before{content:"\\2715"}.modal__close:focus,.modal__close:hover{color:#000;text-decoration:none;opacity:.75}.modal__content{margin-top:2rem;margin-bottom:2rem;line-height:1.5;color:rgba(0,0,0,.8)}.modal__footer{text-align:right}.modal__btn{font-size:.875rem;padding-left:1rem;padding-right:1rem;padding-top:.5rem;padding-bottom:.5rem;background-color:#e6e6e6!important;color:rgba(0,0,0,.8);border-radius:.25rem;border-style:none;border-width:0;cursor:pointer;-webkit-appearance:button;text-transform:none;overflow:visible;line-height:1.15;margin:0;will-change:transform;-moz-osx-font-smoothing:grayscale;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0);transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out}.modal__btn:focus,.modal__btn:hover{-webkit-transform:scale(1.05);transform:scale(1.05)}.modal__btn-primary{background-color:#05b370!important;color:#fff}@keyframes mmfadeIn{from{opacity:0}to{opacity:1}}@keyframes mmfadeOut{from{opacity:1}to{opacity:0}}@keyframes mmslideIn{from{transform:translateY(15%)}to{transform:translateY(0)}}@keyframes mmslideOut{from{transform:translateY(0)}to{transform:translateY(-10%)}}.micromodal-slide{display:none}.micromodal-slide.is-open{display:block}.micromodal-slide[aria-hidden=false] .modal__overlay{animation:mmfadeIn .3s cubic-bezier(0,0,.2,1)}.micromodal-slide[aria-hidden=false] .modal__container{animation:mmslideIn .3s cubic-bezier(0,0,.2,1)}.micromodal-slide[aria-hidden=true] .modal__overlay{animation:mmfadeOut .3s cubic-bezier(0,0,.2,1)}.micromodal-slide[aria-hidden=true] .modal__container{animation:mmslideOut .3s cubic-bezier(0,0,.2,1)}.micromodal-slide .modal__container,.micromodal-slide .modal__overlay{will-change:transform}.modal__container .text-muted{color:#6c757d!important}.modal__container .form-text{display:block;margin-top:.25rem}.modal__container .form-group{margin-bottom:1rem}.modal__container .form-check{position:relative;display:block;padding-left:1.25rem}.modal__container .form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem;padding-right:20px}.modal__container .form-check-label{margin-left:5px}.modal__container label{display:inline-block;margin-bottom:.5rem!important}.modal__container button,.modal__container input{overflow:visible}.modal__container button,.modal__container input,.modal__container optgroup,.modal__container select,.modal__container textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.modal__container textarea{height:initial;overflow:auto;resize:vertical}.modal__container .form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.modal__container .form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgb(0 123 255 / 25%)}#snackbar{visibility:hidden;opacity:0;min-width:250px;margin-left:-125px;background-image:linear-gradient(to bottom right,#ba39be,#05b370);color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:9999999;left:50%;bottom:15%;font-size:17px}#snackbar.show{visibility:visible;opacity:1;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:15%;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:15%;opacity:1}}@-webkit-keyframes fadeout{from{bottom:15%;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:15%;opacity:1}to{bottom:0;opacity:0}}',document.head.appendChild(e)})()}};window.Presto.modules.Style=t}(),function(e,t){"use strict";const o=function(){let e;const o=function(e,t){return e.transaction([t],"readonly").objectStore(t)};return{getOrCreateDB:(o,n,a=1)=>{const r="_getOrCreateDB";return new Promise(((i,l)=>{if(e){if(e.version===a)return i(e);console.log(`${r}: it will close ${e.name} because version change!`),e.close()}if(!t)return console.log(`${r}.checkSupport: This browser doesn't support IndexedDB`),l();const c=t.open("PrestoDB",a);c.onerror=function(e){console.log(`${r}.indexedDB.open: ${JSON.stringify(e)}`),l()},c.onsuccess=t=>{e=t.target.result,e.onerror=function(e){console.log(`${r}.db.any: ${JSON.stringify(e)}`)},i(e)},c.onupgradeneeded=function(t){console.log(`${r}.onupgradeneeded`,JSON.stringify(t)),e=t.target.result,!1===e.objectStoreNames.contains(o)&&e.createObjectStore(o,{keyPath:n})}}))},get:function(e,t,n){return new Promise(((a,r)=>{const i=o(e,t).get(n);i.onsuccess=e=>{e.target.result?a(e.target.result):r(`not found id ${n} in ${t} store`)},i.onerror=r}))},getAll:function(e,t){return new Promise((function(n,a){const r=[];o(e,t).openCursor().onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n(r)}}))},addOrUpdateItem:function(e,t,o){const n="_addOrUpdateItem";return new Promise((function(a,r){const i=e.transaction([t],"readwrite");i.oncomplete=a,i.onerror=function(e){console.log(`${n}.transaction: ${JSON.stringify(e)}`),r()};const l=i.objectStore(t),c=IDBKeyRange.only(o.id||o.uid),s=l.openCursor(c);s.onsuccess=function(e){let t;t=e.target.result?l.put(o):l.add(o),t.onerror=function(e){console.log(`${n}.objectStore.request: ${JSON.stringify(e)}`),r()}},s.onerror=function(e){console.log(`${n}.cursor.open: ${JSON.stringify(e)}`),r()}}))}}}();e.modules.IndexedDBClient=o}(Presto,indexedDB),function(e){"use strict";const{IndexedDBClient:t}=e.modules,o=function(){const e="patient",o=(o=1)=>t.getOrCreateDB(e,"id",o),n=async o=>{const n=await t.getAll(o,e);return n.sort((function(e,t){return e.name.localeCompare(t.name)})),n};return{getOrCreateDB:o,get:(o,n)=>t.get(o,e,n),getAll:n,addOrUpdateItem:(o,n)=>t.addOrUpdateItem(o,e,n),createReport:()=>{o().then(n).then((e=>{window.open().document.write(`\n                <pre>${JSON.stringify(e,void 0,4)}</pre>\n            `)}))}}}();e.models.PatientModel=o}(Presto,location),function(e){"use strict";const{IndexedDBClient:t}=e.modules,o=function(){const e="person",o=(o=1)=>t.getOrCreateDB(e,"uid",o),n=async o=>{const n=await t.getAll(o,e);return n.sort((function(e,t){return e.name.localeCompare(t.name)})),n};return{getOrCreateDB:o,get:(o,n)=>t.get(o,e,n),getAll:n,addOrUpdateItem:(o,n)=>t.addOrUpdateItem(o,e,n),createReport:()=>{o().then(n).then((e=>{window.open().document.write(`\n                <pre>${JSON.stringify(e,void 0,4)}</pre>\n            `)}))}}}();e.models.PersonModel=o}(Presto,location),function(e,t){"use strict";const{PatientModel:o}=e.models,{Snackbar:n,FAB:a,Modal:r,CommonsHelper:i,DomHelper:l}=e.modules,{$$:c}=l,s=function(){const e=/guia-de-sp-sadt-incluir/,l="#presto-appointments-days",s="#presto-appointments-month-year",d="#presto-appointments-unit-value",u=async()=>{const e=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(e);let t,n;c(".linha").forEach((e=>{c("strong",e).forEach((e=>{if(e){let o=e.textContent;/Carteira/.test(o)&&(t=e.parentElement.querySelector("span").textContent.replace(/\s/g,""))}}))})),t&&(n=await o.getOrCreateDB(2).then(o.getAll).then((e=>e.find((e=>e.id===t)))));const{Taskier:a}=i;return a.mapToFunc([a.toText("#numero-guia-principal","0"),a.toText("#data-autorizacao",e(new Date)),a.toFunc((()=>{const t=new Date;t.setDate(t.getDate()+90);document.querySelector("#data-validade-senha").value=e(t)})),a.toText("#nome-profissional-solicitante",n?.specialist?.name||""),a.toSelect("#conselho-profissional","CRP"),a.toSelect("#uf-conselho-profissional","RS"),a.toText("#numero-registro-conselho",n?.specialist?.ncrp||""),a.toFunc((()=>i.selectFirstJQueryAutocomplete("#cbo","251510"))),a.toSelect("#carater-atendimento","Eletivo"),a.toText("#data-solicitacao",e(new Date)),a.toSelect("#flag-atendimento-rn","Não"),a.toText("#indicacao-clinica","Tratamento Psicologico"),a.toSelect("#indicador-acidente","Não Acidente"),a.toSelect("#tipo-consulta","Retorno"),a.toSelect("#regime-atendimento","Ambulatorial"),a.toFunc((()=>{i.selectOption("#tipo-atendimento","Outras Terapias"),setTimeout((()=>jQuery(".ui-dialog-content").dialog("close")),500)}))])},m=()=>{c(".bt-excluir-procedimento-realizado").forEach((e=>e.click()))},p=(e,t,o)=>{const a=e.shift();document.querySelector("[name='per.data']").value=`${a}/${t}`,document.querySelector("[name='per.codigo-procedimento']").value="50000470",document.querySelector("[class='sasbt1 btn-busca-procedimento']").click(),setTimeout((()=>{document.querySelector("[name='per.quantidade']").value="1",document.querySelector("[name='per.valor-unitario']").value=o,document.querySelector("#incluirPer").click(),setTimeout((()=>{e.length?p(e,t,o):n.fire("Pronto!")}),1e3)}),1e3)},f=async()=>{let e=document.querySelector(l).value;if(!e)return void n.fire("Informe os dias dos procedimentos!");let t=document.querySelector(s).value;if(!t)return void n.fire("Informe o mês/ano dos procedimentos!");let o=document.querySelector(d).value;if(!o)return void n.fire("Informe o valor unitário dos procedimentos no formato 12,34!");const{Taskier:a}=i,r=[...await u(),...a.mapToFunc([a.toFunc(m),a.toFunc((()=>{document.querySelector("#formPer").scrollIntoView({behavior:"smooth",block:"start"}),e=e.split(",").map((e=>e.padStart(2,"0"))),t=`/${t}`,p(e,t,o)}))])];a.exec(r,200)},g=()=>{let e=document.createElement("div");return e.appendChild(r.helpers.buildFormGroup({textLabel:"DIAS",input:{id:l.substring(1)},helpText:"Ex.: 7,14,21,28"})),e.appendChild(r.helpers.buildFormGroup({textLabel:"MÊS/ANO",input:{id:s.substring(1),value:new Intl.DateTimeFormat("pt-BR",{month:"2-digit",year:"numeric"}).format(new Date)},helpText:"Ex.: 07/2024"})),e.appendChild(r.helpers.buildFormGroup({textLabel:"VALOR UNITÁRIO",input:{id:d.substring(1),value:"62,05"},helpText:"Ex.: 62,05"})),e},h=()=>{r.open({title:"Adicionar Procedimentos",content:g(),mainAction:f})},b=()=>{r.init(),(()=>{const e=document.querySelector(".box-padrao .box-padrao-int .tab .linha"),t=e.querySelector("div span").textContent.replace(/\s/g,"");o.getOrCreateDB(2).then(o.getAll).then((o=>{const n=o.find((e=>e.id===t)),a=document.createElement("div"),r=document.createElement("strong");r.textContent="(Presto.js) Nome do Beneficiário: ";const i=document.createElement("span");i.textContent=n.name,a.appendChild(r),a.appendChild(i),e.appendChild(a)})).catch((e=>console.error(e)))})(),a.build([{textLabel:"Preencher Guia",iconClass:"las la-calendar-plus",click:h}])};return{upgrade:()=>{e.test(t.pathname)&&b()}}}();e.pages.GuiaDeSPSADTIncluirPage=s}(Presto,location),function(e,t){"use strict";const{PatientModel:o}=e.models,{Snackbar:n,FAB:a,CommonsHelper:r,DomHelper:i}=e.modules,{$$:l}=i,c=function(){const e=/solicitacao\/solicitacao-de-sp-sadt/,i=async e=>{let t,a;l(".linha").forEach((e=>{l("strong",e).forEach((e=>{if(e){let o=e.textContent;/Carteira/.test(o)&&(t=e.parentElement.querySelector("span").textContent.replace(/\s/g,""))}}))})),t&&(a=await o.getOrCreateDB(2).then(o.getAll).then((e=>e.find((e=>e.id===t)))));const{Taskier:i}=r,c=i.mapToFunc([i.toText("[name='solicitacao-sp-sadt.numero-guia-prestador']","0"),i.toText("[name='solicitacao-sp-sadt.executante-solicitante.nome-profissional-solicitante']",a?.specialist?.name||""),i.toSelect("#conselho-profissional","CRP"),i.toSelect("#uf-conselho-profissional","RS"),i.toText("[name='solicitacao-sp-sadt.executante-solicitante.conselho-profissional.numero']",a?.specialist?.ncrp||""),i.toFunc((()=>r.selectFirstJQueryAutocomplete("#busca-codigo-cbo","251510"))),i.toFunc((()=>{var e;document.querySelector("#data-atendimento").value=(e=new Date,new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(e))})),i.toSelect("#recem-nato","Não"),i.toSelect("[name='solicitacao-sp-sadt.atendimento.tecnica-utilizada.codigo']","Convencional"),i.toText("[name='codigo-procedimento']","50000470"),i.toFunc((()=>document.querySelector("#btn-incluir-procedimento").click())),i.toFunc((()=>{const t=document.querySelector('[name="quantidade-solicitada"]');t.value=e;const o=new Event("change",{bubbles:!0});t.dispatchEvent(o)})),i.toFunc((()=>document.querySelector("#btn-validar-procedimento").click()))]);i.exec(c,200).then((()=>n.fire("Pronto!"))).then((()=>{const e=document.querySelector("#btn-confirmar-solicitacao"),t=e.click;e.onclick=()=>{const e="solicitacao-sp-sadt.executante-solicitante",n=document.querySelector(`[name='${e}.nome-profissional-solicitante']`).value,r=document.querySelector(`[name='${e}.conselho-profissional.numero']`).value;a={...a,specialist:{name:n,ncrp:r}},o.getOrCreateDB(2).then((e=>o.addOrUpdateItem(e,a))).then((()=>t())).catch((e=>console.error(e)))}}))};return{upgrade:()=>{e.test(t.pathname)&&a.build([{textLabel:"Autorizar 5 sessões",iconClass:"las icon-number-5",click:()=>i(5)},{textLabel:"Autorizar 4 sessões",iconClass:"las icon-number-4",click:()=>i(4)},{textLabel:"Autorizar 3 sessões",iconClass:"las icon-number-3",click:()=>i(3)},{textLabel:"Autorizar 2 sessões",iconClass:"las icon-number-2",click:()=>i(2)},{textLabel:"Autorizar 1 sessões",iconClass:"las icon-number-1",click:()=>i(1)}])}}}();e.pages.SolicitacaoDeSPSADTPage=c}(Presto,location),function(e,t){"use strict";const{PatientModel:o}=e.models,{SolicitacaoDeSPSADTPage:n,GuiaDeSPSADTIncluirPage:a}=e.pages,{CommonsHelper:r,DomHelper:i}=e.modules,{$$:l}=i,c=function(){const e=/saude.sulamericaseguros.com.br/,i=/validacao-de-elegibilidade/,c=/validacao-de-elegibilidade\/elegibilidade-resultado/,s=/validacao-de-procedimentos\/?(solicitacao)?\/?$/,d=/validacao-de-procedimentos\/consulta/,u=/fechamento-de-lote/,m=/validar-procedimento-autorizado/,p=/demonstrativos-tiss-3(\/demonstrativo-de-pagamento)?/,f=async function(e=[]){if(0===e.length)return null;let t=document.createElement("SELECT");t.style.cssText="vertical-align: middle;";let o=document.createElement("OPTION");return o.value="",o.textContent="ESCOLHA O BENEFICIÁRIO...",t.appendChild(o),t.onchange=()=>{let e=t.querySelector(":checked");document.querySelector("#codigo-beneficiario-1").value=e.value.substr(0,3),document.querySelector("#codigo-beneficiario-2").value=e.value.substr(3,5),document.querySelector("#codigo-beneficiario-3").value=e.value.substr(8,4),document.querySelector("#codigo-beneficiario-4").value=e.value.substr(12,4),document.querySelector("#codigo-beneficiario-5").value=e.value.substr(16,4)},e.forEach((e=>{let o=document.createElement("OPTION");o.value=e.id,o.textContent=e.name,t.appendChild(o)})),t};return{is:function(){return e.test(t.host)},isLoaded:function(){return["#box-validacao-beneficiario",".box-indicador-elegibilidade",".box-padrao"].map((e=>document.querySelector(e))).some((e=>e))},fix:async function(){if(a.upgrade(),n.upgrade(),p.test(t.pathname)){const e='input[name="data-inicial"]',t=r.createSelectOptionsMonthYear({dateBeginFieldId:e,dateEndFieldId:'input[name="data-final"]'});t.firstElementChild.style.width="initial",t.style.display="block";const o=document.querySelector(e).parentElement.parentElement;o.insertBefore(t,o.childNodes[1])}else if(c.test(t.pathname)){let e=document.querySelector(".box-indicador-elegibilidade .linha"),t=e.querySelector(".atencao").textContent,n={id:"",name:""};if(l(".linha").forEach((e=>{l("strong",e).forEach((e=>{if(e){let t=e.textContent;/Carteira/.test(t)&&(n.id=e.parentElement.querySelector("span").textContent.replace(/\s/g,"")),/Nome/.test(t)&&(n.name=e.parentElement.querySelector("span").textContent)}}))})),n.id){const e=await o.getOrCreateDB(2).then(o.getAll).then((e=>e.find((e=>e.id===n.id))));n=e||n}if("SIM"===t){let a=document.createElement("DIV");a.id="js-presto-status",a.style="float:right;font-weight:bold;color:limegreen;",a.textContent="Salvando...",e.appendChild(a),o.getOrCreateDB(2).then((e=>o.addOrUpdateItem(e,n))).then((()=>{e.querySelector("#js-presto-status").textContent="Salvo!"})).catch((e=>{console.log(`_fixAnyPage: [eligible=${t}] ${JSON.stringify(e)}`)}))}}else o.getOrCreateDB(2).then(o.getAll).then(f).then((e=>{if(e){if(i.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]),document.querySelector(".box-padrao").style.width="850px"}if(s.test(t.pathname))if(d.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario");t.insertBefore(e,t.childNodes[2])}else{let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]),document.querySelector(".box-padrao").style.width="850px"}if(u.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]);const o='input[name="data-inicial"]',n=r.createSelectOptionsMonthYear({dateBeginFieldId:o,dateEndFieldId:'input[name="data-final"]'});t=document.querySelector(o).parentElement.parentElement,t.insertBefore(n,t.childNodes[1])}if(m.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario");t.insertBefore(e,t.childNodes[0]),document.querySelector(".box-padrao").style.width="780px";const o='input[name="data-inicio"]',n=r.createSelectOptionsMonthYear({dateBeginFieldId:o,dateEndFieldId:'input[name="data-termino"]'});n.firstElementChild.style.width="initial",n.style.marginRight="1rem",t=document.querySelector(o).parentElement.parentElement,t.insertBefore(n,t.childNodes[2])}}})).catch((e=>{console.log(`_fixAnyPage: [eligible=${eligible}] ${JSON.stringify(e)}`)}))}}}();e.modules.SulAmerica=c}(Presto,location),function(e,t){"use strict";const{CommonsHelper:o}=e.modules,n=function(){const e=/autorizacao\/ultimasSolicitacoes\/ultimasSolicitacoes/;return{upgrade:()=>{e.test(t.pathname)&&(()=>{const e=o.createSelectOptionsMonthYear({dateBeginFieldId:"#txtDataEnvioDe",dateEndFieldId:"#txtDataEnvioAte"});e.style.paddingBottom="3em",e.style.marginLeft="8em";const t=document.querySelector("#formularioBase fieldset");t.insertBefore(e,t.firstChild)})()}}}();e.pages.AutorizacaoUltimasSolicitacoesPage=n}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:r}=e.modules,{$$:i}=r,l=function(){const e=/autorizacao\/ultimasSolicitacoes\/buscarStatusAutorizacao/,r=[/Senha/,/Data.Autoriza..o/,/Data.Validade.Senha/,/Status.da.Senha/,/N.mero.da.Carteira/,/Nome:/,/Cart.o.Nacional.de.Sa.de/],l=function(){const e=i("#body label");let t=[];e.forEach((e=>{let o=e.textContent;o=o?o.trim():"";let n="";if(r.some((e=>e.test(o)))){{let t=e.parentElement.querySelector("span");n=t?t.textContent:"",n=n?n.replace("R$","").trim():""}o=o.replace("ù","ú"),t.push(`${o} ${n}`)}}));const a=i(".tab-administracao th");i(".tab-administracao tr").forEach((e=>{i("td",e).forEach(((e,o)=>{let n=e.textContent;t.push(`${a[o].textContent}: ${n}`)}))})),o.write(t.join(", ")).then((()=>n.fire("Copiado!")))};return{upgrade:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados (Recurso de Glosa)",iconClass:"lar la-copy",click:l}])}}}();e.pages.AutorizacaoUltimasSolicitacoesBuscarStatusPage=l}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:r}=e.modules,{$$:i}=r,l=function(){const e=/extrato\/buscarLote/,r=function(){let e=i('form[id*="formularioTratarGlosas"]'),t=[],a=[];e.forEach((e=>{var t=e.querySelector("table");i("tbody tr",t).forEach((e=>{i("td",e).forEach((e=>{let t=e.firstElementChild;t&&"A"===t.nodeName&&a.push(t)}))}))}));let r=()=>{let e=a.shift();var l=[];e.click();let c=setInterval((()=>{let e=document.querySelector("#TB_ajaxContent");if(!e)return;clearInterval(c);let s=[];i("label",e).forEach((e=>{let t=e.textContent.replace(":","").trim(),o=e.parentElement.querySelector("span").textContent.replace(".",",").trim();if(/Motivo.+Glosa/.test(t)){let t=i("ul li",e.parentElement.parentElement);return t=t.map((e=>e.textContent.trim())).map((e=>e.replace(/\t/g,""))),o+=` (${t.join(";\n")});`,void s.push(o)}l.push(o)})),s&&l.push(`="${s.join('"&CHAR(10)&"')}"`),t.push(l.join("\t")),e.querySelector(".TB_closeWindowButton").click();let d=setInterval((()=>{document.querySelector("#TB_ajaxContent")||(clearInterval(d),a.length?r():o.write(t.join("\n")).then((()=>n.fire("Copiado!"))))}),250)}),250)};r()},l=function(){let e=i('form[id*="formularioTratarGlosas"]'),t=[],a=[];e.forEach((e=>{var o=e.querySelector("table");i("tbody tr",o).forEach((o=>{var n=[];i("label",e).forEach((e=>{let t=e.parentElement.querySelector("span").textContent.trim();n.push(t)})),i("td",o).forEach((e=>{let t=e.firstElementChild;t&&"A"===t.nodeName&&a.push(t);let o=e.textContent.replace("R$","").trim();o&&n.push(o)})),n.push(document.querySelector(".tab-administracao tbody tr td").textContent.trim()),t.push(n.join("\t"))}))})),o.write(t.join("\n")).then((()=>n.fire("Copiado!")))};return{upgrade:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados (deep)",iconClass:"lar la-clipboard",click:r},{textLabel:"Copiar dados",iconClass:"lar la-copy",click:l}])}}}();e.pages.ExtratoBuscarLotePage=l}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:r}=e.modules,{$$:i}=r,l=function(){const e=/extrato\/detalhePagamento/,r=function(){let e=i("#dados-solicitacao label"),t=[],a=[];e.forEach((e=>{let o=e.parentElement.querySelector("span").textContent.replace("R$","").trim();t.push(o)}));let r=t.join("\t");a.push(r);let l=a.join("\n");o.write(l).then((()=>n.fire("Copiado!")))};return{upgrade:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados",iconClass:"lar la-copy",click:r}])}}}();e.pages.ExtratoDetalhePagamentoPage=l}(Presto,location),function(e,t){"use strict";const{PersonModel:o}=e.models,{Snackbar:n,FAB:a,Modal:r,DomHelper:i}=e.modules,{$$:l}=i,c=function(){const e=/faturamento\/digitar\/spsadt/,i="#presto-appointments-days",c="#presto-appointments-month-year",s="#presto-appointments-unit-value",d=(e,t,o,a)=>{let r=e.shift();document.querySelector("#bt-addProcedimento").click(),document.querySelector("#dataModalProcedimento").value=r+t,document.querySelector("#labelOrdemItemModalProcedimento").parentElement.querySelector("input").value=o-e.length,document.querySelector("#tipoTabelaModalProcedimento").value=22,document.querySelector("#codigoModalProcedimento").value=50000470,document.querySelector("#codigoModalProcedimento").onblur();let i=setInterval((()=>{let r=document.querySelector("#descricaoModalProcedimento");r.value&&(clearInterval(i),document.querySelector("#quantidadeModalProcedimento").value=1,jQuery("#porcentagemRedAcrModalProcedimento").unmask(),document.querySelector("#porcentagemRedAcrModalProcedimento").value="1.00",document.querySelector("#valorUnitarioModalProcedimento").value=a.replace(",","."),document.querySelector("#valorUnitarioModalProcedimento").onblur(),i=setInterval((()=>{r=document.querySelector("#valorTotalModalProcedimento"),r.value&&(clearInterval(i),setTimeout((()=>{document.querySelector("#bt-operacaoModalProcedimento").click(),e.length?setTimeout((()=>d(e,t,o,a)),1e3):n.fire("Pronto!")}),1e3))}),250))}),250)},u=()=>{let e=document.querySelector(i).value;if(!e)return void n.fire("Informe os dias dos procedimentos!");let t=document.querySelector(c).value;if(!t)return void n.fire("Informe o mês/ano dos procedimentos!");let o=document.querySelector(s).value;if(!o)return void n.fire("Informe o valor unitário dos procedimentos no formato 12,34!");e=e.split(",").map((e=>e.padStart(2,"0"))),t=`/${t}`;const a=e.length;(()=>{let e=document.querySelector("#trProcedimento0");e&&l("td",e).filter((e=>"-"===e.textContent)).length&&(e.querySelector("input").checked=!0,document.querySelector("#bt-addProcedimento").parentElement.querySelector(".bt-remover").click())})(),d(e,t,a,o)},m=()=>{const e=new Date;e.setMonth(e.getMonth()-1);return new Intl.DateTimeFormat("pt-BR",{month:"2-digit",year:"numeric"}).format(e)},p=()=>{let e=document.createElement("div");return e.appendChild(r.helpers.buildFormGroup({textLabel:"DIAS",input:{id:i.substring(1)},helpText:"Ex.: 7,14,21,28"})),e.appendChild(r.helpers.buildFormGroup({textLabel:"MÊS/ANO",input:{id:c.substring(1),value:m()},helpText:"Ex.: 06/2021"})),e.appendChild(r.helpers.buildFormGroup({textLabel:"VALOR UNITÁRIO",input:{id:s.substring(1),value:"58,37"},helpText:"Ex.: 58,37"})),e},f=function(){let e={uid:"",name:"",password:"",props:[]};setTimeout((()=>{e.uid=document.querySelector("#txtNumeroCarteirinhaBeneficiario").value,e.name=document.querySelector("#txtNomeBeneficiario").value,e.password=document.querySelector("#senha").value}),500);let t=["dataModalProcedimento","ordemItemModalProcedimento"];l("input[type=text],select,textarea").filter((e=>!1===t.includes(e.id))).map((t=>{let o=t.onchange;t.onchange=t=>{let n=e.props.find((e=>e.id===t.target.id));n?t.target.value?n.value=t.target.value:e.props=e.props.filter((e=>e.id!==t.target.id)):e.props.push({id:t.target.id,value:t.target.value}),o&&o()}})),(e=>{const t=document.querySelector("#gravarAlteracoes"),n=t.onclick;t.onclick=()=>{o.getOrCreateDB().then((t=>o.addOrUpdateItem(t,e))).then((()=>{n&&n()})).catch((e=>{console.log(`_watchForm: ${JSON.stringify(e)}`)}))}})(e)},g=()=>{o.getOrCreateDB().then(o.getAll).then((e=>{e&&e.length&&(e=>{let t=document.createElement("label");t.textContent="Presto.js - Lista de Pacientes:",t.style.marginRight="1em";let o=document.createElement("select"),n=document.createElement("option");n.value="",n.textContent="Selecione...",o.appendChild(n),e.forEach((e=>{let t=document.createElement("option");t.value=e.password,t.textContent=`${e.name} - ${e.uid}`,o.appendChild(t)})),o.onchange=e=>{document.querySelector("#senha").value=e.target.value};let a=document.createElement("div");a.style.paddingBottom="3em",a.style.textAlign="center",a.appendChild(t),a.appendChild(o);const r=document.querySelector("#formularioDigitacaoSPSADT fieldset div");r.insertBefore(a,r.firstChild)})(e)})).catch((e=>{console.log(`__loadProfiles :: ${JSON.stringify(e)}`)}))},h=()=>{r.open({title:"Adicionar Procedimentos",content:p(),mainAction:u})},b=()=>{Array.from(document.querySelector("#txtTipoDocumentoContratado").options).find((e=>"CPF"===e.textContent)).selected=!0,document.querySelector("#txtNomeProfissionalSolicitante").value=document.querySelector("#txtNomeContratado").value,Array.from(document.querySelector("#txtUFProfissionalSolicitante").options).find((e=>"RS"===e.value)).selected=!0,Array.from(document.querySelector("#txtTipoConselhoProfissionalSolicitante").options).find((e=>/CRP/.test(e.textContent))).selected=!0,document.querySelector("#txtNumeroConselhoProfissionalSolicitante").value="05014",Array.from(document.querySelector("#txtCBOSProfissionalSolicitante").options).find((e=>/Psic.logo cl.nico/.test(e.textContent))).selected=!0,Array.from(document.querySelector("#txtCaraterInternacao").options).find((e=>/Eletiva/.test(e.textContent))).selected=!0,document.querySelector("#txtAreaIndicacaoClinica").value="Sessões de Terapia",Array.from(document.querySelector("#txtTipoAtendimento").options).find((e=>/Outras Terapias/.test(e.textContent))).selected=!0,Array.from(document.querySelector("#txtTipoConsulta").options).find((e=>/Seguimento/.test(e.textContent))).selected=!0,Array.from(document.querySelector("#txtRegimeAtendimento").options).find((e=>/Ambulatorial/.test(e.textContent))).selected=!0,Array.from(document.querySelector("#txtIndicacaoAcidente").options).find((e=>/N.o Acidentes/.test(e.textContent))).selected=!0},y=()=>{(()=>{const e=window.removerItemDigitacao;window.removerItemDigitacao=(...t)=>{try{e(...t)}catch(e){}}})(),r.init(),g(),a.build([{textLabel:"Preencher dados padrão",iconClass:"las la-wrench",click:b},{textLabel:"Adicionar Procedimentos",iconClass:"las la-calendar-plus",click:h},{textLabel:"IndexedDB: Criar relatório",iconClass:"las la-external-link-alt",click:o.createReport}]);let e=document.querySelector("#senha").parentElement.querySelector("a.bt-procurar"),t=e.onclick;e.onclick=()=>{t(),new Promise(((e,t)=>{let o=setInterval((()=>{const n=document.querySelector("#txtDataValidadeSenha");if(!n.value)return;clearInterval(o);let a=n.value.split("/").map((e=>parseInt(e)));a[1]+=-1,new Date(...a.reverse())<new Date?(n.style.border="red 2px solid",n.style.color="red",n.parentElement.querySelector("label").style.color="red",t("Senha vencida!")):e()}),500)})).then((()=>{document.querySelector("#txtNumeroGuiaPrestador").value=(new Date).getTime(),f()})).catch(n.fire)}};return{upgrade:()=>{e.test(t.pathname)&&y()}}}();e.pages.FormularioDigitarSPSADTPage=c}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:r}=e.modules,{$$:i}=r,l=function(){const e=/faturamento\/visualizar\/detalharLote/,r=function(){let e=i(".tab-administracao tbody tr"),t=[],a=[];e.forEach((e=>{i("td",e).forEach((e=>{let o=e.textContent;/^R\$/.test(o)&&(o=o.replace("R$","")),t.push(o.trim())}));let o=t.join("\t");a.push(o),t=[]}));let r=a.join("\n");o.write(r).then((()=>n.fire("Copiado!")))};return{upgrade:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados",iconClass:"lar la-copy",click:r}])}}}();e.pages.FaturamentoVisualizarDetalharLotePage=l}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,CommonsHelper:r,DomHelper:i}=e.modules,{$$:l}=i,c=function(){const e=/faturamento\/visualizar\/filtrarPorData/,i=function(){let e=l("#tblListaLoteFaturamento tbody tr"),t=[],a=[];e.forEach((e=>{const o=[2,3,4,5,6,7];l("td",e).forEach(((e,n)=>{if(o.includes(n)){let o=e.textContent;/\d+\.\d+/.test(o)&&(o=o.replace(".",",")),t.push(o.trim())}}));let n=t.join("\t");a.push(n),t=[]}));let r=a.join("\n");o.write(r).then((()=>n.fire("Copiado!")))};return{upgrade:()=>{e.test(t.pathname)&&(()=>{a.build([{textLabel:"Copiar dados",iconClass:"lar la-copy",click:i}]);const e=r.createSelectOptionsMonthYear({dateBeginFieldId:"#txtVisualizarDataInicial",dateEndFieldId:"#txtVisualizarDataFinal"});e.style.paddingBottom="3em",e.style.marginLeft="8em";const t=document.querySelector("#formularioFiltroVisualizarDigitacao fieldset");t.insertBefore(e,t.firstChild)})()}}}();e.pages.FaturamentoVisualizarFiltrarPorDataPage=c}(Presto,location),function(e,t){"use strict";const{CommonsHelper:o}=e.modules,n=function(){const e=/faturamento\/visualizar\/filtro/;return{upgrade:()=>{e.test(t.pathname)&&(()=>{const e=o.createSelectOptionsMonthYear({dateBeginFieldId:"#txtVisualizarDataInicial2",dateEndFieldId:"#txtVisualizarDataFinal2"});e.style.paddingBottom="3em",e.style.marginLeft="8em";const t=document.querySelector("#formularioFiltroVisualizarDigitacao fieldset");t.insertBefore(e,t.firstChild)})()}}}();e.pages.FaturamentoVisualizarFiltroPage=n}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:r}=e.modules,{$$:i}=r,l=function(){const e=/recursoglosa\/buscaDetalheRecursoGlosa/,r=["Contrato","Prestador","Área","Código Procedimento","Quantidade","Procedimento"],l=function(){let e=i("#body label"),t=[],a=[],l=!1;e.forEach((e=>{if(l)return;let o=e.textContent;o=o?o.replace(":","").trim():"";let n="";if(/Motivo.+Glosa/.test(o)){let t=i("ul li",e.parentElement);t=t.map((e=>e.textContent.trim())),n=t.join(";"),l=!0}else{if(!1!==r.some((e=>e==o)))return;{let t=e.parentElement.querySelector("span");n=t?t.textContent:"",n=n?n.replace("R$","").trim():""}}t.push(n)})),a.push(t.join("\t")),o.write(a.join("\n")).then((()=>n.fire("Copiado!")))},c=function(){let e=i("#body label"),t=!1,a="";e.forEach((e=>{if(t)return;let o=e.textContent;if(o=o?o.replace(":","").trim():"",/Motivo.+Glosa/.test(o)&&(t=!0),/^Recurso/.test(o)){let t=e.parentElement.querySelector("span"),o=t?t.textContent:"";a=o?o.replace("R$","").trim():""}}));let r=[];i(".box-resposta-mensagem,.box-resposta-resposta").forEach((e=>{let t=e.querySelector(".box-resposta-p1 div"),o=t.querySelector("label").textContent.trim(),n=t.querySelector("span").textContent.trim(),i=e.querySelector(".box-resposta-p2 span").textContent.trim();i=i.replace(/[\n\t]*/g,"");let l=[a,o,n,i];r.push(l.join("\t"))})),o.write(r.join("\n")).then((()=>n.fire("Copiado!")))};return{upgrade:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar detalhes",iconClass:"lar la-copy",click:l},{textLabel:"Copiar mensagens",iconClass:"lar la-copy",click:c}])}}}();e.pages.RecursoGlosaBuscaDetalhePage=l}(Presto,location),function(e,t){"use strict";const{Snackbar:o,FAB:n,Modal:a}=e.modules,r=function(){const e=/recursoglosa\/filtroNew/,r="#presto-protocols",i=()=>{let e=document.createElement("div");return e.appendChild(a.helpers.buildFormGroup({textLabel:"PROTOCOLOS",input:{id:r.substring(1)},helpText:"Ex.: 147634317,147634318 ou 147634317 147634318"})),e},l=()=>{let e=document.querySelector(r).value;if(!e)return void o.fire("Informe os protocolos de recurso de glosa!");let t=e.split(/[,\s]/);const n=()=>{let e=t.shift();document.querySelector("#acompanharSolicitacao_protocoloRecurso").value=e,document.querySelector("#acompanharSolicitacao_btnBuscar").click();const a=setInterval((()=>{let r=document.querySelector(`tr[id="${e}"]`);if(!r)return;clearInterval(a);let i=r.querySelector('td[aria-describedby*="statusRecurso"]').textContent;console.log(`${e}: ${i}`),t.length?n():o.fire("Pronto! Use F12 para ver os resultados.")}),250)};n()},c=()=>{a.open({title:"Verificar status",content:i(),mainAction:l})};return{upgrade:()=>{e.test(t.pathname)&&(a.init(),n.build([{textLabel:"Verificar status em massa",iconClass:"las la-search",click:c}]))}}}();e.pages.RecursoGlosaFiltroPage=r}(Presto,location),function(e,t){"use strict";const{RecursoGlosaBuscaDetalhePage:o,RecursoGlosaFiltroPage:n,ExtratoDetalhePagamentoPage:a,ExtratoBuscarLotePage:r,FormularioDigitarSPSADTPage:i,AutorizacaoUltimasSolicitacoesPage:l,AutorizacaoUltimasSolicitacoesBuscarStatusPage:c,FaturamentoVisualizarFiltroPage:s,FaturamentoVisualizarFiltrarPorDataPage:d,FaturamentoVisualizarDetalharLotePage:u}=e.pages,m=function(){const e=/portaltiss\.saudepetrobras\.com\.br/;return{is:function(){return e.test(t.host)},isLoaded:function(){return[".titulos-formularios",".box-formularios"].some((e=>document.querySelector(e)))},fix:function(){o.upgrade(),n.upgrade(),a.upgrade(),r.upgrade(),i.upgrade(),l.upgrade(),c.upgrade(),s.upgrade(),d.upgrade(),u.upgrade()}}}();e.modules.SaudePetrobras=m}(Presto,location),function(e,t){"use strict";const{Snackbar:o,FAB:n}=e.modules,a=function(){const e=/GuiasTISS\/FaturamentoAtendimentos/;let a=[],r="[data-bind='displayDate: dataLiberacaoProcedimento']",i="td .pointer.text-success",l="td .pointer.text-danger",c="[data-bind='tooltip:{ title: translateStatusConferecia(statusConferenciaOb()) }, click: modificarStatusConferencia']";const s=()=>{const e=a.shift(),t=e.querySelector(r).textContent,n=(e=>{const t=e.split("/"),o=parseInt(t[2]),n=parseInt(t[1]),a=new Date;return a.setDate(0),o===a.getFullYear()&&n===a.getMonth()+1})(t);n?(e.querySelector(i).click(),console.log(`${t}: OK`)):(e.querySelector(l).click(),console.log(`${t}: Removed!`));const d=setInterval((()=>{const t=e.querySelector(c),r="text-"+(n?"success":"danger");Array.from(t.classList).includes(r)&&(clearInterval(d),a.length?s():o.fire("Pronto!"))}),250);setTimeout((()=>clearInterval(d)),1e4)},d=()=>{const e=$$("#lote-detalhes tbody");a=$$("tr td span[data-bind='displayDate: dataLiberacaoProcedimento']",e[0]).map((e=>e.parentElement.parentElement)),s()};return{upgrade:()=>{e.test(t.pathname)&&n.build([{textLabel:"Validar Atendimentos",iconClass:"lar la-list-alt",click:d}])}}}();e.pages.FaturamentoAtendimentosPage=a}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:r}=e.modules,{$$:i}=r,l=function(){const e=/GuiasTISS\/LocalizarProcedimentos/,r=()=>{const e=["Senha","CodigoBenficiario","NomeBeneficiario"];let t=[];i("[data-bind*=guia-template]").forEach((o=>{let n=[];e.forEach((e=>{n.push(o.querySelector(`[data-bind*=${e}]`)?.textContent)})),t.push(n.join("\t"))})),o.write(t.join("\n")).then((()=>n.fire("Copiado!")))};return{upgrade:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados (relatório mensal)",iconClass:"lar la-clipboard",click:r}])}}}();e.pages.LocalizarProcedimentosPage=l}(Presto,location),function(e,t,o){"use strict";const{PatientModel:n}=e.models,{FAB:a,Modal:r,DomHelper:i}=e.modules,{$$:l}=i,c=function(){const e=/GuiasTISS\/GuiaSPSADT\/ViewGuiaSPSADT/,i="presto-profiles-select",c="presto-profiles-bulk-insert-appointments",s=(e,t)=>{const n=setInterval((()=>{const a=o(e).autocomplete("widget").find("li.ui-menu-item:first");a?.length&&(clearInterval(n),a.trigger("mouseenter").trigger("click"),t&&setTimeout(t,1e3))}),500)},d=e=>t=>{const n=e.find((e=>t.target.value===e.id)),a="#numeroDaCarteira";o(a).val(n.id),o(a).autocomplete("search"),s(a,(()=>{(e=>{const t="#idContratadoSolicitante";o(t).val(e.spc.id),o(t).autocomplete("search"),s(t,(()=>{document.querySelector("#ui-accordion-accordion-header-2").click(),setTimeout((()=>{document.querySelector("#incluirProcedimento").click();const e=setInterval((()=>{document.querySelector("#registroProcedimentoID").textContent&&(clearInterval(e),document.querySelector("#btnGravar").click())}),250)}),500)}))})(n)}))},u=e=>{let t=document.createElement("div");return t.id=c,e.forEach((e=>t.appendChild(r.helpers.buildFormCheck({textLabel:e.name,input:{id:e.id,value:e.id}})))),t},m=()=>{const e=document.querySelector("footer p").textContent.split("\n").map((e=>e.trim())).filter((e=>e));return{id:e[0].replace(/\D/g,""),name:e[1]}},p=()=>{const e=localStorage.getItem(c);if(e){const t=e.split(","),o=t.shift(),n=document.querySelector(`#${i}`);n.value=o,n.dispatchEvent(new Event("change",{bubbles:!0})),t.length?localStorage.setItem(c,t.join(",")):localStorage.removeItem(c)}},f=()=>{const e=document.querySelector(`#${c}`);localStorage.setItem(c,l('input[type="checkbox"]:checked',e).map((e=>e.value)).join(",")),p()},g=e=>()=>{r.open({title:"Adicionar Procedimentos em Lote",content:u(e),mainAction:f})},h=()=>{document.querySelector("#dataSolicitacao").value=new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date),document.querySelector("#tipoAtendimento").value="3",(()=>{const e=document.querySelector("#incluirProcedimento"),t=e.onclick;e.onclick=()=>{t();const e="#registroProcedimentoCodigo input";o(e).val("20104219"),o(e).autocomplete("search"),s(e,(()=>{document.querySelector("#confirmarEdicaoDeProcedimento").click()}))}})(),(()=>{const e=document.querySelector("#btnGravar"),t=e.onclick;e.onclick=()=>{const e=m(),o={id:document.querySelector("#numeroDaCarteira").value,name:document.querySelector("#nomeDoBeneficiario").value,spc:{id:document.querySelector("#idContratadoSolicitante").value,name:document.querySelector("#nomeContratadoSolicitante").value},acc:{id:e.id,name:e.name}};n.getOrCreateDB().then((e=>n.addOrUpdateItem(e,o))).then((()=>{t&&t();const e=setInterval((()=>{const t=l("b"),o=t?.find((e=>e.textContent.includes("Nº Guia Operadora"))),n=o?.closest(".ui-dialog"),a=n?.querySelector("#fechar");a?.offsetParent&&(clearInterval(e),setTimeout((()=>a.click()),1e3))}),250)})).catch((e=>{console.log(`__handleBtnGravar: ${JSON.stringify(e)}`)}))}})()},b=async()=>{r.init();const e=await n.getOrCreateDB().then(n.getAll).then((e=>{if(e&&e.length){const t=m();return e.filter((e=>e.acc.id===t.id))}return[]})).catch((e=>{console.error("__loadProfiles",e)}));(e=>{const t=document.createElement("span");t.classList.add("elementTitle"),t.textContent="Presto.js - Lista de Pacientes:";const o=document.createElement("select");o.id=i,o.classList.add("elementInput"),o.style.width="300px";const n=document.createElement("option");n.value="",n.textContent="Selecione...",o.appendChild(n),e.forEach((e=>{const t=document.createElement("option");t.value=e.id,t.textContent=e.name,o.appendChild(t)})),o.onchange=d(e);const a=document.createElement("div");a.classList.add("innerDivOfNormalElementItem"),a.style.width="312px",a.style.height="46px",a.appendChild(t),a.appendChild(o);const r=document.createElement("div");r.classList.add("elementItem"),r.style.width="316px",r.append(a);const l=document.createElement("div");l.classList.add("lineOfElements"),l.style.marginBottom="2em",l.append(r);const c=document.querySelector("#guiaDadosPrincipais");c.insertBefore(l,c.firstChild)})(e),h(),a.build([{textLabel:"Adicionar Procedimentos em Lote",iconClass:"las la-calendar-plus",click:g(e)}]),p()};return{upgrade:()=>{if(e.test(t.pathname)){const e=setInterval((()=>{document.querySelector("#btnGravar")&&(clearInterval(e),b())}),250)}}}}();e.pages.ViewGuiaSPSADTPage=c}(window.Presto,window.location,window.jQuery),function(e,t){"use strict";const{LocalizarProcedimentosPage:o,ViewGuiaSPSADTPage:n,FaturamentoAtendimentosPage:a}=e.pages,r=function(){const e=/novowebplancanoasprev\.facilinformatica\.com\.br/;return{is:function(){return e.test(t.host)},isLoaded:function(){return document.querySelector("#collapseMenu")},fix:function(){n.upgrade(),o.upgrade(),a.upgrade()}}}();e.modules.CanoasPrev=r}(Presto,location),function(e,t){"use strict";const{PatientModel:o}=e.models,{CommonsHelper:n,DomHelper:a}=e.modules,{$$:r}=a,i=function(){const e=/prestador\/guiaexameexecucao/,a=()=>{const e="_sortGuidesByPatientName";console.log(`${e} - Enter`);try{const e=document.getElementById("mainForm:resultadoPesquisaTable:tb"),t=r("tr.rich-table-row",e),o="span[id$=nomePacientTooltip]";t.sort(((e,t)=>{const n=e.querySelector(o).textContent.trim(),a=t.querySelector(o).textContent.trim();return n.localeCompare(a)})),t.forEach((t=>e.appendChild(t)))}finally{console.log(`${e} - Exit`)}},i=e=>()=>{const t="__awaitOpeningModalToExecuteProcedure";console.log(`${t} - Enter`);try{return new Promise((t=>{const o="#panelResumoGuia",n=setInterval((()=>{const a=document.querySelector(`${o} [id*="listaCarteiraConvenio"]`);if(a){clearInterval(n),e.id=a.textContent.replace(/\D/g,"");const i=r(`${o} span.resumoMenuItem a`);Array.from(i).find((e=>"Executar procedimento"===e.textContent)).click(),t()}}),1e3)}))}finally{console.log(`${t} - Exit`)}},l=()=>{const e="__awaitLoadingSADTExecutionView";console.log(`${e} - Enter`);try{return new Promise((e=>{const t=setInterval((()=>{document.querySelector('input[id="formAddUpdate:profissionalexecucaoExame"]')&&(clearInterval(t),e())}),500)}))}finally{console.log(`${e} - Exit`)}},c=e=>()=>{const t="__fillProfessionalField";console.log(`${t} - Enter`);try{const o='input[id="formAddUpdate:profissionalexecucaoExame"]',n=document.querySelector(o);function a(e){const t=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:32,code:"Space",key:" "});e.dispatchEvent(t)}n.value=e.professional,a(n);const i='div[id*="formAddUpdate"].rich-sb-common-container',l=document.querySelector(i);return new Promise((t=>{const o=setInterval((()=>{if("none"!==l.style.display){clearInterval(o);r('table.rich-sb-ext-decor-3 td[class*="rich-table-cell"] span',l).filter((t=>t.textContent==e.professional))[0].click(),t()}}),1e3)}))}finally{console.log(`${t} - Exit`)}},s=()=>{const e="__awaitOpeningModalToAuthenticatePatient";console.log(`${e} - Enter`);try{return document.querySelector(".button-autenticar").click(),new Promise((e=>{const t=setInterval((()=>{const o=document.querySelector("#autenticarModalPanelVirtualCDiv");if(o?.offsetParent){clearInterval(t),r('input[type="radio"]',o)[1].click();const n=setInterval((()=>{const t=o.querySelector('input[id*="senhaPacienteBiometria"]');t?.offsetParent&&(clearInterval(n),e())}),250)}}),250)}))}finally{console.log(`${e} - Exit`)}},d=e=>async()=>{const t="__fillAuthentication";console.log(`${t} - Enter`);try{const n={modal:"#autenticarModalPanelVirtualCDiv",inputPwd:'input[id*="senhaPacienteBiometria"]',btnAuth:'input[id*="autenticarPacienteModalPanelButton"]',btnFinish:'a[title="Finalizar execução"]'},a=document.querySelector(n.modal),r=a.querySelector(n.btnAuth),i=async t=>{await o.getOrCreateDB().then((t=>(e.password=a.querySelector(n.inputPwd).value,o.addOrUpdateItem(t,e))))};r.addEventListener("click",i),await o.getOrCreateDB().then(o.getAll).then((t=>t.find((t=>t.id===e.id)))).then((o=>{if(o)return a.querySelector(n.inputPwd).value=o.password,a.querySelector(n.btnAuth).click(),new Promise((e=>{const t=setInterval((()=>{a.offsetParent||(clearInterval(t),setTimeout((()=>{document.querySelector(n.btnFinish).click(),e()}),1e3))}),1e3)}));console.log(`${t} - No patient found in DB ${JSON.stringify(e)}`)}))}finally{console.log(`${t} - Exit`)}},u=()=>{const e="_configureAddAutomaticAppointment";console.log(`${e} - Enter`);try{const e={patient:'span[id$="nomePacientTooltip"]',closestTD:'td[id^="mainForm:resultadoPesquisaTable"]',grid:'span[id="mainForm:panelResultadoPesquisaGrid"]'},t=e=>{const t=e.closest("table"),o=t?t.querySelector('[title="Médico"]'):null;return{name:(e.textContent||"").trim(),professional:o?o.textContent.trim():""}},o=o=>{const a=o.target.closest(e.closestTD);if(!a)return;const r=a.querySelector(e.patient);(async e=>{const t="_patientOnClick";console.log(`${t} - Enter`);try{const{Taskier:t}=n,o=t.mapToFunc([t.toFunc(i(e)),t.toFunc(l),t.toFunc(c(e)),t.toFunc(s),t.toFunc(d(e))]);await t.exec(o,1e3)}finally{console.log(`${t} - Exit`)}})(t(r))},a=document.querySelector(e.grid);a._hasTriggerPatientOnClick||(a.addEventListener("click",o),a._hasTriggerPatientOnClick=!0)}finally{console.log(`${e} - Exit`)}},m=()=>{setInterval((()=>{const e=document.getElementById("mainForm:resultadoPesquisaTable:tb");if(e?.textContent){document.querySelector("#prestoSetup")||((()=>{const e="_addSortAZButton";console.log(`${e} - Enter`);try{const e=document.createElement("div");e.id="prestoSetup",e.style.float="right";const t=document.createElement("a");t.textContent="A→Z",t.href="javascript:void(0)",t.onclick=a,e.appendChild(t);const o='div[id="mainForm:panelConfigPesquisa"] div.configPesquisaItens';document.querySelector(o).appendChild(e)}finally{console.log(`${e} - Exit`)}})(),u())}}),1e3)};return{upgrade:()=>{e.test(t.pathname)&&m()}}}();e.pages.ExecucaoGuiaSADTPage=i}(Presto,location),function(e,t){"use strict";const{ExecucaoGuiaSADTPage:o}=e.pages,n=function(){const e=/portal\.cabergs\.org\.br/;return{is:function(){return e.test(t.host)},isLoaded:function(){return document.querySelector("#container")},fix:function(){o.upgrade()}}}();e.modules.Cabergs=n}(Presto,location),function(e,t,o){"use strict";const{Snackbar:n,FAB:a}=e.modules,r=function(){const e=/bancario\/index/,n=()=>{o(".selectpicker").selectpicker("val","19")};return{upgrade:()=>{e.test(t.pathname)&&a.build([{textLabel:"Receita: Setar categoria padrão",iconClass:"las la-wrench",click:n}])}}}();e.pages.ConciliacaoBancariaPage=r}(window.Presto,window.location,window.jQuery),function(e,t,o){"use strict";const{CommonsHelper:n,DomHelper:a}=e.modules,{$$:r}=a,i=function(){const e=/notas_fiscais\/emitir_nota/,a=()=>{(()=>{const e=o("#tomador"),t=e.find("option").sort((function(e,t){return o(e).text().localeCompare(o(t).text())}));e.html(t),e.prepend(e.find("option:last"))})(),n.selectOption("#servico","Psicologia"),n.selectOption("#localServico","Em meu endereço"),n.selectOption("#CST","1 - Tributada integralmente e sujeita ao regime do Simples Nacional");const e=document.querySelector("#servicoDescricao");e.value="Sessões de Terapia",e.rows=1,document.querySelector("#numDeskChar").style.padding=0,r("hr").forEach((e=>e.style.margin="10px 0")),r(".form-group").forEach((e=>e.style.margin="0 0 5px 0"));const t=setInterval((()=>{const e=document.querySelector(".servico-show");if("block"===e?.style.display){clearInterval(t);const o=e.style,n=document.createElement("a");n.textContent="Outros detalhes (hide/show)",n.href="javascript:void(0)",n.onclick=()=>{o.display="none"===o.display?"block":"none"},e.parentNode.insertBefore(n,e);const a=document.querySelector("#btnPostNf").parentElement.parentElement;e.parentNode.insertBefore(a,e.nextSibling),setTimeout((()=>o.display="none"),250)}}),250)};return{upgrade:()=>{if(e.test(t.pathname)){const e=setInterval((()=>{document.querySelector("#servicoDescricao")&&(clearInterval(e),a())}),250)}}}}();e.pages.EmitirNotaFiscalPage=i}(window.Presto,window.location,window.jQuery),function(e,t){"use strict";const{EmitirNotaFiscalPage:o,ConciliacaoBancariaPage:n}=e.pages,a=function(){const e=/app\.contaagil\.com\.br/;return{is:function(){return e.test(t.host)},isLoaded:function(){return document.querySelector("#accordion")},fix:function(){o.upgrade(),n.upgrade()}}}();e.modules.ContaAgil=a}(Presto,location),function(e,t,o){const{Style:n,SulAmerica:a,SaudePetrobras:r,CanoasPrev:i,Cabergs:l,ContaAgil:c}=e.modules,s=[a,r,i,l,c];e.bless=function(){var e=t((function(){s.some((e=>e.is()&&e.isLoaded()))&&(o(e),n.inject(),s.forEach((e=>{e.is()&&e.fix()})))}),250)}}(window.Presto,window.setInterval,window.clearInterval),function(e){let t=setInterval((()=>{e.Presto&&(clearInterval(t),console.log(e.Presto.bless()))}),250)}(window);