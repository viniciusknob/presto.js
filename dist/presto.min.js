!function(e){"use strict";const t={modules:{}};e.Presto=t}(window),function(e,t,n){if(!t.gtag){let e=n.createElement("script");e.src="https://www.googletagmanager.com/gtag/js",e.async=1,n.querySelector("body").appendChild(e),t.dataLayer=t.dataLayer||[],t.gtag=function(){t.dataLayer.push(arguments)},t.gtag("js",new Date)}var o=!1;const r={_SulAmerica:"G-MXK1RQ5VT5"},i={config:e=>{o=r[e],t.gtag("config",o)},sendEvent:(e,n,r,i=!0)=>{t.gtag("event",e,{send_to:o,event_category:n,event_label:r,non_interaction:i})},sendException:(e,n=!1)=>{t.gtag("event","exception",{send_to:o,description:e,fatal:n})}};e.modules.Analytics=i}(Presto,window,document),function(e,t){"use strict";const{Analytics:n}=e.modules,o=function(){let e=void 0;return{getOrCreateDB:()=>{const o="_getOrCreateDB";return new Promise((r,i)=>{if(e)return r(e);if(!t)return n.sendException(`${o}.checkSupport: This browser doesn't support IndexedDB`,!0),i();const a=t.open("PrestoDB");a.onerror=function(e){n.sendException(`${o}.indexedDB.open: ${JSON.stringify(e)}`,!0),i()},a.onsuccess=(t=>{(e=t.target.result).onerror=function(e){n.sendException(`${o}.db.any: ${JSON.stringify(e)}`,!0)},r(e)}),a.onupgradeneeded=function(t){n.sendEvent(`${o}.onupgradeneeded`,"log",JSON.stringify(t)),!1===(e=t.target.result).objectStoreNames.contains("person")&&e.createObjectStore("person",{keyPath:"uid"})}})},getAll:function(e){return new Promise(function(t,o){const r=[];e.transaction(["person"],"readonly").objectStore("person").openCursor().onsuccess=function(e){var o=e.target.result;o?(r.push(o.value),o.continue()):(n.sendEvent("_getAll.personList","log",`size ${r.length}`),r.sort(function(e,t){return e.name.localeCompare(t.name)}),t(r))}})},addOrUpdateItem:function(e,t){const o="_addOrUpdateItem";return new Promise(function(r,i){const a=e.transaction(["person"],"readwrite");a.oncomplete=function(e){r()},a.onerror=function(e){n.sendException(`${o}.transaction: ${JSON.stringify(e)}`,!0),i()};const c=a.objectStore("person"),s=IDBKeyRange.only(t.uid),d=c.openCursor(s);d.onsuccess=function(e){let r;e.target.result?(n.sendEvent(`${o}.objectStore.put`,"log",t.uid),r=c.put(t)):(n.sendEvent(`${o}.objectStore.add`,"log",t.uid),r=c.add(t)),r.onerror=function(e){n.sendException(`${o}.objectStore.request: ${JSON.stringify(e)}`,!1),i()}},d.onerror=function(e){n.sendException(`${o}.cursor.open: ${JSON.stringify(e)}`,!1),i()}})}}}();e.modules.IndexedDB=o}(Presto,indexedDB),function(e,t){"use strict";const{Analytics:n,IndexedDB:o}=e.modules,r=function(){const e=/saude.sulamericaseguros.com.br/,r=/validacao-de-elegibilidade/,i=/validacao-de-elegibilidade\/elegibilidade-resultado/,a=/validacao-de-procedimentos(\/solicitacao)?/,c=/validacao-de-procedimentos\/consulta/,s=/fechamento-de-lote/,d=/validar-procedimento-autorizado/,l=function(e=[]){if(0===e.length)return null;let t=document.createElement("SELECT");t.style.cssText="vertical-align: middle;";let o=document.createElement("OPTION");return o.value="",o.textContent="ESCOLHA O BENEFICIÁRIO...",t.appendChild(o),t.onchange=(()=>{let e=t.querySelector(":checked");n.sendEvent("person_selected","log",e.value,!1),document.querySelector("#codigo-beneficiario-1").value=e.value.substr(0,3),document.querySelector("#codigo-beneficiario-2").value=e.value.substr(3,5),document.querySelector("#codigo-beneficiario-3").value=e.value.substr(8,4),document.querySelector("#codigo-beneficiario-4").value=e.value.substr(12,4),document.querySelector("#codigo-beneficiario-5").value=e.value.substr(16,4)}),e.forEach(e=>{let n=document.createElement("OPTION");n.value=e.uid,n.textContent=e.name,t.appendChild(n)}),t};return{is:function(){return e.test(t.host)},isLoaded:function(){return document.querySelector("#box-validacao-beneficiario")||document.querySelector(".box-indicador-elegibilidade")},fix:function(){if(i.test(t.pathname)){let t=document.querySelector(".box-indicador-elegibilidade .linha"),r=t.querySelector(".atencao").textContent;var e={uid:"",name:""};if(document.querySelectorAll(".linha").forEach(t=>{t.querySelectorAll("strong").forEach(t=>{if(t){let n=t.textContent;/Carteira/.test(n)&&(e.uid=t.parentElement.querySelector("span").textContent.replace(/\s/g,"")),/Nome/.test(n)&&(e.name=t.parentElement.querySelector("span").textContent)}})}),n.sendEvent("checkPersonEligibility","log",`${e.uid} => ${r}`),"SIM"===r){let r=document.createElement("DIV");r.id="js-presto-status",r.style="float:right;font-weight:bold;color:limegreen;",r.textContent="Salvando...",t.appendChild(r),o.getOrCreateDB().then(t=>o.addOrUpdateItem(t,e)).then(()=>{t.querySelector("#js-presto-status").textContent="Salvo!",n.sendEvent("personSaved","log",e.uid)}).catch(e=>{n.sendException(`_fixAnyPage: ${JSON.stringify(e)}`,!0)})}}else o.getOrCreateDB().then(o.getAll).then(l).then(e=>{if(e){if(r.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]),document.querySelector(".box-padrao").style.width="850px"}if(a.test(t.pathname))if(c.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario");t.insertBefore(e,t.childNodes[2])}else{let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]),document.querySelector(".box-padrao").style.width="850px"}if(s.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2])}if(d.test(t.pathname)){let t=document.querySelector("#box-validacao-beneficiario");t.insertBefore(e,t.childNodes[0]),document.querySelector(".box-padrao").style.width="780px"}}})}}}();e.modules.SulAmerica=r}(Presto,location),function(e,t,n){const{Analytics:o,SulAmerica:r}=e.modules,i=function(){var e=t(function(){(function(){if(r.is())return r.isLoaded()})()&&(n(e),r.is()&&(o.config("_SulAmerica"),r.fix()))},250)};e.bless=function(){i()}}(window.Presto,window.setInterval,window.clearInterval),function(e){let t=setInterval(()=>{e.Presto&&(clearInterval(t),console.log(e.Presto.bless()))},250)}(window);