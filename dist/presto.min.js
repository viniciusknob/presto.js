!function(e){"use strict";const t={env:"prd",models:{},modules:{},pages:{}};e.Presto=t}(window),function(e,t){"use strict";const o={$:(e,o=t)=>o?.querySelector(e),$$:(e,o=t)=>[...o?.querySelectorAll(e)||[]]};e.modules.DomHelper=o}(window.Presto,window.document),function(e,t,o,n){"use strict";const a={write:e=>{if(t.clipboard&&o)return t.clipboard.writeText(e);{let t=n.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",n.body.appendChild(t),t.focus(),t.select(),new Promise(((e,o)=>{n.execCommand("copy")?e():o(),t.remove()}))}}};e.modules.Clipboard=a}(window.Presto,window.navigator,window.isSecureContext,window.document),function(e,t,o){"use strict";const{DomHelper:n}=e.modules,{$:a}=n,i=function(){const e=(e,t)=>{const o=a(e),n=Array.from(o.options).find((e=>new RegExp(t).test(e.textContent)));if(n){n.selected=!0;const e=new Event("change",{bubbles:!0});o.dispatchEvent(e)}},n={toText:(e,t)=>({type:"text",selector:e,value:t}),toSelect:(e,t)=>({type:"select",selector:e,value:t}),toFunc:e=>({type:"function",fn:e}),mapToFunc:t=>t.map((t=>{if("function"===t.type)return t.fn;{const{selector:o,value:n}=t;if("text"===t.type)return()=>a(o).value=n;if("select"===t.type)return()=>e(o,n)}})),exec:async(e,t)=>{for(let o=0;o<e.length;o++)await Promise.resolve(e[o]()),o<e.length-1&&await new Promise((e=>setTimeout(e,t)))}};return{createSelectOptionsMonthYear:e=>{let o=t.createElement("label");o.textContent="Presto.js - Mês/Ano:";let n=t.createElement("select"),i=t.createElement("option");i.value="",i.textContent="Selecione...",n.appendChild(i);let r=(new Date).getFullYear(),l=(new Date).getMonth();for(let e=0;e>=-24;e--){let o=new Date(r,l+e,1),a=new Intl.DateTimeFormat("pt-BR",{month:"short"}).format(o),i=t.createElement("option");i.value=`${o.getMonth()}/${o.getFullYear()}`,i.textContent=`${a}/${o.getFullYear()}`,n.appendChild(i)}n.onchange=t=>{let o=t.target.value.split("/"),n=o[1],i=parseInt(o[0])+1,s=`${i}`.padStart(2,"0"),c=new Date(n,i,0).getDate();parseInt(n)===r&&parseInt(o[0])===l&&(c=(new Date).getDate()),a(e.dateBeginFieldId).value=`01/${s}/${n}`,a(e.dateEndFieldId).value=`${c}/${s}/${n}`};let s=t.createElement("div");return s.appendChild(o),s.appendChild(n),s},selectOption:e,selectFirstJQueryAutocomplete:(e,t)=>{const n=o(e);n.focus(),n.val(t),n.autocomplete("search");const a=setInterval((()=>{const e=n.autocomplete("widget").find("li.ui-menu-item:first");e?.length&&(clearInterval(a),e.trigger("mouseenter").trigger("click"))}),250)},getFirstWeekdayOfMonth:(e,t)=>{const o=new Date(e,t,1);return 6===o.getDay()?o.setDate(o.getDate()+2):0===o.getDay()&&o.setDate(o.getDate()+1),o},Taskier:n}}();e.modules.CommonsHelper=i}(window.Presto,window.document,window.jQuery),function(e){"use strict";const t=function(){const e=e=>{let t=document.createElement("div");if(t.classList.add("fab-icon-holder"),e){let o=document.createElement("i");o.classList.add(...e.split(" ")),t.appendChild(o)}else t.classList.add("fab-main","fab-image-holder");return t},t=t=>{let o=document.createElement("li");return o.appendChild((e=>{let t=document.createElement("span");return t.classList.add("fab-label"),t.textContent=e,t})(t.textLabel)),o.appendChild(e(t.iconClass)),o.onclick=t.click,o};return{build:o=>{let n=document.createElement("div");n.classList.add("fab-container");let a=document.createElement("ul");a.classList.add("fab-options"),o.forEach((e=>{a.appendChild(t(e))})),n.appendChild(e()),n.appendChild(a),document.body.appendChild(n)}}}();e.modules.FAB=t}(window.Presto),function(e){"use strict";const{DomHelper:t}=e.modules,{$:o}=t,n=function(){const e="#presto-modal",t=()=>{let e=document.createElement("div");e.innerHTML='<div class="micromodal micromodal-slide" id="presto-modal" aria-hidden="true"><div class="modal__overlay" tabindex="-1" data-micromodal-close><div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="presto-modal-title"><header class="modal__header"><h2 class="modal__title" id="presto-modal-title"></h2><button class="modal__close" aria-label="Close modal" data-micromodal-close></button></header><main class="modal__content" id="presto-modal-content"></main><footer class="modal__footer"><button class="modal__btn modal__btn-primary" data-micromodal-close aria-label="Close this dialog window">Continue</button> <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button></footer></div></div></div>',document.body.appendChild(e.firstChild)},n=()=>{let e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/micromodal/dist/micromodal.min.js",document.body.appendChild(e)};return{init:()=>{!function(...e){e.map((e=>setTimeout(e,25)))}(t,n)},open:t=>{const n=setInterval((()=>{let a=o(e);a&&(clearInterval(n),o(".modal__title",a).textContent=t.title,o(".modal__content",a).innerHTML="",o(".modal__content",a).appendChild(t.content),o(".modal__btn-primary",a).onclick=t.mainAction,window.MicroModal.show(e.substring(1)))}),500)},helpers:{buildFormGroup:e=>{let t=document.createElement("div");t.classList.add("form-group");let o=document.createElement("label");o.htmlFor=e.input.id,o.textContent=e.textLabel,t.appendChild(o);let n=document.createElement("input");if(n.type=e.input.type||"text",n.classList.add("form-control"),n.id=e.input.id,e.input.value&&(n.value=e.input.value),t.appendChild(n),e.helpText){let o=document.createElement("small");o.classList.add("form-text","text-muted"),o.textContent=e.helpText,t.appendChild(o)}return t},buildFormCheck:e=>{let t=document.createElement("div");t.classList.add("form-check");let o=document.createElement("input");o.type="checkbox",o.classList.add("form-check-input"),o.id=e.input.id,e.input.value&&(o.value=e.input.value),t.appendChild(o);let n=document.createElement("label");return n.classList.add("form-check-label"),n.htmlFor=e.input.id,n.textContent=e.textLabel,t.appendChild(n),t}}}}();e.modules.Modal=n}(window.Presto),function(e){"use strict";const{DomHelper:t}=e.modules,{$:o}=t,n=function(){const e="show";return{fire:t=>{let n=o("#snackbar");n||(n=document.createElement("div"),n.id="snackbar",o("body").appendChild(n)),n.textContent=t,n.classList.add(e),setTimeout((()=>{n.classList.remove(e)}),2850)}}}();e.modules.Snackbar=n}(window.Presto),function(e){"use strict";const t={inject:()=>{(()=>{let e=document.createElement("link");e.rel="stylesheet",e.href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css",document.head.appendChild(e)})(),(()=>{let e=document.createElement("style");e.innerHTML='.fab-container{position:fixed;bottom:50px;right:50px;z-index:9999;cursor:pointer}.fab-icon-holder{width:50px;height:50px;border-radius:100%;background-image:linear-gradient(to bottom right,#ba39be,#05b370);box-shadow:0 6px 25px rgba(0,0,0,.35)}.fab-image-holder{background-image:url(https://i.imgur.com/x6YRXy8.png);background-color:#fff;background-size:58px;background-repeat:no-repeat;background-position:right}.fab-icon-holder i{display:flex;align-items:center;justify-content:center;height:100%;font-size:25px;color:#fff}.fab-main{width:60px;height:60px}.fab-main::before{content:"";position:absolute;width:100%;height:100%;bottom:10px}.fab-options{list-style-type:none;margin:0;position:absolute;bottom:70px;right:0;opacity:0;transition:all .3s ease;transform:scale(0);transform-origin:85% bottom}.fab-main:hover+.fab-options,.fab-options:hover{opacity:1;transform:scale(1)}.fab-options li{display:flex;justify-content:flex-end;padding:5px}.fab-label{padding:2px 5px;align-self:center;user-select:none;white-space:nowrap;border-radius:3px;font-size:16px;background:#666;color:#fff;box-shadow:0 6px 20px rgba(0,0,0,.2);margin-right:10px}.icon-number-1::before{content:"①"}.icon-number-2::before{content:"②"}.icon-number-3::before{content:"③"}.icon-number-4::before{content:"④"}.icon-number-5::before{content:"⑤"}.micromodal{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif}.micromodal *{box-sizing:border-box}.modal__overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;z-index:999999}.modal__container{background-color:#fff;padding:30px;max-width:500px;max-height:80vh;border-radius:4px;overflow-y:auto;box-sizing:border-box;min-width:30%}.modal__container header,.modal__container main{padding:initial!important}.modal__header{display:flex;justify-content:space-between;align-items:center}.modal__title{margin-top:0;margin-bottom:0;font-weight:600;font-size:1.5rem;line-height:1.5;color:#ba39be;box-sizing:border-box}.modal__close{background-color:transparent!important;border:0}.modal__close:before{content:"\\2715"}.modal__close:focus,.modal__close:hover{color:#000;text-decoration:none;opacity:.75}.modal__content{margin-top:2rem;margin-bottom:2rem;line-height:1.5;color:rgba(0,0,0,.8)}.modal__footer{text-align:right}.modal__btn{font-size:.875rem;padding-left:1rem;padding-right:1rem;padding-top:.5rem;padding-bottom:.5rem;background-color:#e6e6e6!important;color:rgba(0,0,0,.8);border-radius:.25rem;border-style:none;border-width:0;cursor:pointer;-webkit-appearance:button;text-transform:none;overflow:visible;line-height:1.15;margin:0;will-change:transform;-moz-osx-font-smoothing:grayscale;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translateZ(0);transform:translateZ(0);transition:-webkit-transform .25s ease-out;transition:transform .25s ease-out;transition:transform .25s ease-out,-webkit-transform .25s ease-out}.modal__btn:focus,.modal__btn:hover{-webkit-transform:scale(1.05);transform:scale(1.05)}.modal__btn-primary{background-color:#05b370!important;color:#fff}@keyframes mmfadeIn{from{opacity:0}to{opacity:1}}@keyframes mmfadeOut{from{opacity:1}to{opacity:0}}@keyframes mmslideIn{from{transform:translateY(15%)}to{transform:translateY(0)}}@keyframes mmslideOut{from{transform:translateY(0)}to{transform:translateY(-10%)}}.micromodal-slide{display:none}.micromodal-slide.is-open{display:block}.micromodal-slide[aria-hidden=false] .modal__overlay{animation:mmfadeIn .3s cubic-bezier(0,0,.2,1)}.micromodal-slide[aria-hidden=false] .modal__container{animation:mmslideIn .3s cubic-bezier(0,0,.2,1)}.micromodal-slide[aria-hidden=true] .modal__overlay{animation:mmfadeOut .3s cubic-bezier(0,0,.2,1)}.micromodal-slide[aria-hidden=true] .modal__container{animation:mmslideOut .3s cubic-bezier(0,0,.2,1)}.micromodal-slide .modal__container,.micromodal-slide .modal__overlay{will-change:transform}.modal__container .text-muted{color:#6c757d!important}.modal__container .form-text{display:block;margin-top:.25rem}.modal__container .form-group{margin-bottom:1rem}.modal__container .form-check{position:relative;display:block;padding-left:1.25rem}.modal__container .form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem;padding-right:20px}.modal__container .form-check-label{margin-left:5px}.modal__container label{display:inline-block;margin-bottom:.5rem!important}.modal__container button,.modal__container input{overflow:visible}.modal__container button,.modal__container input,.modal__container optgroup,.modal__container select,.modal__container textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.modal__container textarea{height:initial;overflow:auto;resize:vertical}.modal__container .form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.modal__container .form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgb(0 123 255 / 25%)}#snackbar{visibility:hidden;opacity:0;min-width:250px;margin-left:-125px;background-image:linear-gradient(to bottom right,#ba39be,#05b370);color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:9999999;left:50%;bottom:15%;font-size:17px}#snackbar.show{visibility:visible;opacity:1;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:15%;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:15%;opacity:1}}@-webkit-keyframes fadeout{from{bottom:15%;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:15%;opacity:1}to{bottom:0;opacity:0}}',document.head.appendChild(e)})()}};window.Presto.modules.Style=t}(),function(e,t){"use strict";const o=function(){let e;const o=function(e,t){return e.transaction([t],"readonly").objectStore(t)};return{getOrCreateDB:(o,n,a=1)=>{const i="_getOrCreateDB";return new Promise(((r,l)=>{if(e){if(e.version===a)return r(e);console.log(`${i}: it will close ${e.name} because version change!`),e.close()}if(!t)return console.log(`${i}.checkSupport: This browser doesn't support IndexedDB`),l();const s=t.open("PrestoDB",a);s.onerror=function(e){console.log(`${i}.indexedDB.open: ${JSON.stringify(e)}`),l()},s.onsuccess=t=>{e=t.target.result,e.onerror=function(e){console.log(`${i}.db.any: ${JSON.stringify(e)}`)},r(e)},s.onupgradeneeded=function(t){console.log(`${i}.onupgradeneeded`,JSON.stringify(t)),e=t.target.result,!1===e.objectStoreNames.contains(o)&&e.createObjectStore(o,{keyPath:n})}}))},get:function(e,t,n){return new Promise(((a,i)=>{const r=o(e,t).get(n);r.onsuccess=e=>{e.target.result?a(e.target.result):i(`not found id ${n} in ${t} store`)},r.onerror=i}))},getAll:function(e,t){return new Promise((function(n,a){const i=[];o(e,t).openCursor().onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n(i)}}))},addOrUpdateItem:function(e,t,o){const n="_addOrUpdateItem";return new Promise((function(a,i){const r=e.transaction([t],"readwrite");r.oncomplete=a,r.onerror=function(e){console.log(`${n}.transaction: ${JSON.stringify(e)}`),i()};const l=r.objectStore(t),s=IDBKeyRange.only(o.id||o.uid),c=l.openCursor(s);c.onsuccess=function(e){let t;t=e.target.result?l.put(o):l.add(o),t.onerror=function(e){console.log(`${n}.objectStore.request: ${JSON.stringify(e)}`),i()}},c.onerror=function(e){console.log(`${n}.cursor.open: ${JSON.stringify(e)}`),i()}}))}}}();e.modules.IndexedDBClient=o}(Presto,indexedDB),function(e){"use strict";const{IndexedDBClient:t}=e.modules,o=function(){const e="patient",o=(o=1)=>t.getOrCreateDB(e,"id",o),n=async o=>{const n=await t.getAll(o,e);return n.sort((function(e,t){return e.name.localeCompare(t.name)})),n};return{getOrCreateDB:o,get:(o,n)=>t.get(o,e,n),getAll:n,addOrUpdateItem:(o,n)=>t.addOrUpdateItem(o,e,n),createReport:()=>{o().then(n).then((e=>{window.open().document.write(`\n                <pre>${JSON.stringify(e,void 0,4)}</pre>\n            `)}))}}}();e.models.PatientModel=o}(Presto,location),function(e){"use strict";const{IndexedDBClient:t}=e.modules,o=function(){const e="person",o=(o=1)=>t.getOrCreateDB(e,"uid",o),n=async o=>{const n=await t.getAll(o,e);return n.sort((function(e,t){return e.name.localeCompare(t.name)})),n};return{getOrCreateDB:o,get:(o,n)=>t.get(o,e,n),getAll:n,addOrUpdateItem:(o,n)=>t.addOrUpdateItem(o,e,n),createReport:()=>{o().then(n).then((e=>{window.open().document.write(`\n                <pre>${JSON.stringify(e,void 0,4)}</pre>\n            `)}))}}}();e.models.PersonModel=o}(Presto,location),function(e,t,o){"use strict";const{PatientModel:n}=e.models,{Snackbar:a,FAB:i,Modal:r,CommonsHelper:l,DomHelper:s}=e.modules,{$:c,$$:d}=s,u=function(){const e=/guia-de-sp-sadt-incluir/,s="#presto-appointments-days",u="#presto-appointments-month-year",m="#presto-appointments-unit-value",p=async()=>{const e=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(e);let t,a;d(".linha").forEach((e=>{d("strong",e).forEach((e=>{if(e){let o=e.textContent;/Carteira/.test(o)&&(t=c("span",e.parentElement).textContent.replace(/\s/g,""))}}))})),t&&(a=await n.getOrCreateDB(2).then(n.getAll).then((e=>e.find((e=>e.id===t)))));const{Taskier:i}=l;return i.mapToFunc([i.toText("#numero-guia-principal","0"),i.toText("#data-autorizacao",e(new Date)),i.toFunc((()=>{const t=new Date;t.setDate(t.getDate()+90);c("#data-validade-senha").value=e(t)})),i.toText("#nome-profissional-solicitante",a?.specialist?.name||""),i.toSelect("#conselho-profissional","CRP"),i.toSelect("#uf-conselho-profissional","RS"),i.toText("#numero-registro-conselho",a?.specialist?.ncrp||""),i.toFunc((()=>l.selectFirstJQueryAutocomplete("#cbo","251510"))),i.toSelect("#carater-atendimento","Eletivo"),i.toText("#data-solicitacao",e(new Date)),i.toSelect("#flag-atendimento-rn","Não"),i.toText("#indicacao-clinica","Tratamento Psicologico"),i.toSelect("#indicador-acidente","Não Acidente"),i.toSelect("#tipo-consulta","Retorno"),i.toSelect("#regime-atendimento","Ambulatorial"),i.toFunc((()=>{l.selectOption("#tipo-atendimento","Outras Terapias"),setTimeout((()=>o(".ui-dialog-content").dialog("close")),500)}))])},f=()=>{d(".bt-excluir-procedimento-realizado").forEach((e=>e.click()))},g=(e,t,o)=>{const n=e.shift();c("[name='per.data']").value=`${n}/${t}`,c("[name='per.codigo-procedimento']").value="50000470",c("[class='sasbt1 btn-busca-procedimento']").click(),setTimeout((()=>{c("[name='per.quantidade']").value="1",c("[name='per.valor-unitario']").value=o,c("#incluirPer").click(),setTimeout((()=>{e.length?g(e,t,o):a.fire("Pronto!")}),1e3)}),1e3)},h=async()=>{let e=c(s).value;if(!e)return void a.fire("Informe os dias dos procedimentos!");let t=c(u).value;if(!t)return void a.fire("Informe o mês/ano dos procedimentos!");let o=c(m).value;if(!o)return void a.fire("Informe o valor unitário dos procedimentos no formato 12,34!");const{Taskier:n}=l,i=[...await p(),...n.mapToFunc([n.toFunc(f),n.toFunc((()=>{c("#formPer").scrollIntoView({behavior:"smooth",block:"start"}),e=e.split(",").map((e=>e.padStart(2,"0"))),t=`/${t}`,g(e,t,o)}))])];n.exec(i,200)},b=()=>{let e=document.createElement("div");return e.appendChild(r.helpers.buildFormGroup({textLabel:"DIAS",input:{id:s.substring(1)},helpText:"Ex.: 7,14,21,28"})),e.appendChild(r.helpers.buildFormGroup({textLabel:"MÊS/ANO",input:{id:u.substring(1),value:new Intl.DateTimeFormat("pt-BR",{month:"2-digit",year:"numeric"}).format(new Date)},helpText:"Ex.: 07/2024"})),e.appendChild(r.helpers.buildFormGroup({textLabel:"VALOR UNITÁRIO",input:{id:m.substring(1),value:"64,53"},helpText:"Ex.: 64,53"})),e},v=()=>{r.open({title:"Adicionar Procedimentos",content:b(),mainAction:h})};return{applyFeatures:()=>{e.test(t.pathname)&&(r.init(),(()=>{const e=c(".box-padrao .box-padrao-int .tab .linha"),t=c("div span",e).textContent.replace(/\s/g,"");n.getOrCreateDB(2).then(n.getAll).then((o=>{const n=o.find((e=>e.id===t)),a=document.createElement("div"),i=document.createElement("strong");i.textContent="(Presto.js) Nome do Beneficiário: ";const r=document.createElement("span");r.textContent=n.name,a.appendChild(i),a.appendChild(r),e.appendChild(a)})).catch((e=>console.error(e)))})(),i.build([{textLabel:"Preencher Guia",iconClass:"las la-calendar-plus",click:v}]))}}}();e.pages.GuiaDeSPSADTIncluirPage=u}(window.Presto,window.location,window.jQuery),function(e,t){"use strict";const{PatientModel:o}=e.models,{Snackbar:n,FAB:a,CommonsHelper:i,DomHelper:r}=e.modules,{$:l,$$:s}=r,c=function(){const e=/solicitacao\/solicitacao-de-sp-sadt/,r=async e=>{let t,a;s(".linha").forEach((e=>{s("strong",e).forEach((e=>{if(e){let o=e.textContent;/Carteira/.test(o)&&(t=l("span",e.parentElement).textContent.replace(/\s/g,""))}}))})),t&&(a=await o.getOrCreateDB(2).then(o.getAll).then((e=>e.find((e=>e.id===t)))));const{Taskier:r}=i,c=r.mapToFunc([r.toText("[name='solicitacao-sp-sadt.numero-guia-prestador']","0"),r.toText("[name='solicitacao-sp-sadt.executante-solicitante.nome-profissional-solicitante']",a?.specialist?.name||""),r.toSelect("#conselho-profissional","CRP"),r.toSelect("#uf-conselho-profissional","RS"),r.toText("[name='solicitacao-sp-sadt.executante-solicitante.conselho-profissional.numero']",a?.specialist?.ncrp||""),r.toFunc((()=>i.selectFirstJQueryAutocomplete("#busca-codigo-cbo","251510"))),r.toFunc((()=>{const e=new Date;var t;e.setDate(e.getDate()-4),l("#data-atendimento").value=(t=e,new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t))})),r.toSelect("#recem-nato","Não"),r.toSelect("[name='solicitacao-sp-sadt.atendimento.tecnica-utilizada.codigo']","Convencional"),r.toText("[name='codigo-procedimento']","50000470"),r.toFunc((()=>l("#btn-incluir-procedimento").click())),r.toFunc((()=>{const t=l('[name="quantidade-solicitada"]');t.value=e;const o=new Event("change",{bubbles:!0});t.dispatchEvent(o)})),r.toFunc((()=>l("#btn-validar-procedimento").click()))]);r.exec(c,200).then((()=>n.fire("Pronto!"))).then((()=>{const e=l("#btn-confirmar-solicitacao"),t=e.click;e.onclick=()=>{const e="solicitacao-sp-sadt.executante-solicitante",n=l(`[name='${e}.nome-profissional-solicitante']`).value,i=l(`[name='${e}.conselho-profissional.numero']`).value;a={...a,specialist:{name:n,ncrp:i}},o.getOrCreateDB(2).then((e=>o.addOrUpdateItem(e,a))).then((()=>t())).catch((e=>console.error(e)))}}))};return{applyFeatures:()=>{e.test(t.pathname)&&a.build([{textLabel:"Autorizar 5 sessões",iconClass:"las icon-number-5",click:()=>r(5)},{textLabel:"Autorizar 4 sessões",iconClass:"las icon-number-4",click:()=>r(4)},{textLabel:"Autorizar 3 sessões",iconClass:"las icon-number-3",click:()=>r(3)},{textLabel:"Autorizar 2 sessões",iconClass:"las icon-number-2",click:()=>r(2)},{textLabel:"Autorizar 1 sessões",iconClass:"las icon-number-1",click:()=>r(1)}])}}}();e.pages.SolicitacaoDeSPSADTPage=c}(Presto,location),function(e,t){"use strict";const{PatientModel:o}=e.models,{SolicitacaoDeSPSADTPage:n,GuiaDeSPSADTIncluirPage:a}=e.pages,{CommonsHelper:i,DomHelper:r}=e.modules,{$:l,$$:s}=r,c=function(){const e=/saude.sulamericaseguros.com.br/,r=/validacao-de-elegibilidade/,c=/validacao-de-elegibilidade\/elegibilidade-resultado/,d=/validacao-de-procedimentos\/?(solicitacao)?\/?$/,u=/validacao-de-procedimentos\/consulta/,m=/fechamento-de-lote/,p=/validar-procedimento-autorizado/,f=/demonstrativos-tiss-3(\/demonstrativo-de-pagamento)?/,g=async function(e=[]){if(0===e.length)return null;let t=document.createElement("SELECT");t.style.cssText="vertical-align: middle;";let o=document.createElement("OPTION");return o.value="",o.textContent="ESCOLHA O BENEFICIÁRIO...",t.appendChild(o),t.onchange=()=>{let e=l(":checked",t);l("#codigo-beneficiario-1").value=e.value.substr(0,3),l("#codigo-beneficiario-2").value=e.value.substr(3,5),l("#codigo-beneficiario-3").value=e.value.substr(8,4),l("#codigo-beneficiario-4").value=e.value.substr(12,4),l("#codigo-beneficiario-5").value=e.value.substr(16,4)},e.forEach((e=>{let o=document.createElement("OPTION");o.value=e.id,o.textContent=e.name,t.appendChild(o)})),t};return{isCurrentHost:function(){return e.test(t.host)},isPageReady:function(){return["#box-validacao-beneficiario",".box-indicador-elegibilidade",".box-padrao"].map((e=>l(e))).some((e=>e))},applyFeatures:async function(){if(a.applyFeatures(),n.applyFeatures(),f.test(t.pathname)){const e='input[name="data-inicial"]',t=i.createSelectOptionsMonthYear({dateBeginFieldId:e,dateEndFieldId:'input[name="data-final"]'});t.firstElementChild.style.width="initial",t.style.display="block";const o=l(e).parentElement.parentElement;o.insertBefore(t,o.childNodes[1])}else if(c.test(t.pathname)){let e=l(".box-indicador-elegibilidade .linha"),t=l(".atencao",e).textContent,n={id:"",name:""};if(s(".linha").forEach((e=>{s("strong",e).forEach((e=>{if(e){let t=e.textContent;/Carteira/.test(t)&&(n.id=l("span",e.parentElement).textContent.replace(/\s/g,"")),/Nome/.test(t)&&(n.name=l("span",e.parentElement).textContent)}}))})),n.id){const e=await o.getOrCreateDB(2).then(o.getAll).then((e=>e.find((e=>e.id===n.id))));n=e||n}if("SIM"===t){let a=document.createElement("DIV");a.id="js-presto-status",a.style="float:right;font-weight:bold;color:limegreen;",a.textContent="Salvando...",e.appendChild(a),o.getOrCreateDB(2).then((e=>o.addOrUpdateItem(e,n))).then((()=>l("#js-presto-status",e).textContent="Salvo!")).catch((e=>{console.log(`_fixAnyPage: [eligible=${t}] ${JSON.stringify(e)}`)}))}}else o.getOrCreateDB(2).then(o.getAll).then(g).then((e=>{if(e){if(r.test(t.pathname)){let t=l("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]),l(".box-padrao").style.width="850px"}if(d.test(t.pathname))if(u.test(t.pathname)){let t=l("#box-validacao-beneficiario");t.insertBefore(e,t.childNodes[2])}else{let t=l("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]),l(".box-padrao").style.width="850px"}if(m.test(t.pathname)){let t=l("#box-validacao-beneficiario div");t.insertBefore(e,t.childNodes[2]);const o='input[name="data-inicial"]',n=i.createSelectOptionsMonthYear({dateBeginFieldId:o,dateEndFieldId:'input[name="data-final"]'});t=l(o).parentElement.parentElement,t.insertBefore(n,t.childNodes[1])}if(p.test(t.pathname)){let t=l("#box-validacao-beneficiario");t.insertBefore(e,t.childNodes[0]),l(".box-padrao").style.width="780px";const o='input[name="data-inicio"]',n=i.createSelectOptionsMonthYear({dateBeginFieldId:o,dateEndFieldId:'input[name="data-termino"]'});n.firstElementChild.style.width="initial",n.style.marginRight="1rem",t=l(o).parentElement.parentElement,t.insertBefore(n,t.childNodes[2])}}})).catch((e=>{console.log(`_fixAnyPage: [eligible=${eligible}] ${JSON.stringify(e)}`)}))}}}();e.modules.SulAmerica=c}(Presto,location),function(e,t){"use strict";const{CommonsHelper:o,DomHelper:n}=e.modules,{$:a}=n,i=function(){const e=/autorizacao\/ultimasSolicitacoes\/ultimasSolicitacoes/;return{applyFeatures:()=>{if(!e.test(t.pathname))return;const n=o.createSelectOptionsMonthYear({dateBeginFieldId:"#txtDataEnvioDe",dateEndFieldId:"#txtDataEnvioAte"});n.style.paddingBottom="3em",n.style.marginLeft="8em";const i=a("#formularioBase fieldset");i.insertBefore(n,i.firstChild)}}}();e.pages.AutorizacaoUltimasSolicitacoesPage=i}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:i}=e.modules,{$:r,$$:l}=i,s=function(){const e=/autorizacao\/ultimasSolicitacoes\/buscarStatusAutorizacao/,i=[/Senha/,/Data.Autoriza..o/,/Data.Validade.Senha/,/Status.da.Senha/,/N.mero.da.Carteira/,/Nome:/,/Cart.o.Nacional.de.Sa.de/],s=function(){const e=l("#body label");let t=[];e.forEach((e=>{let o=e.textContent;o=o?o.trim():"";let n="";if(i.some((e=>e.test(o)))){{let t=r("span",e.parentElement);n=t?t.textContent:"",n=n?n.replace("R$","").trim():""}o=o.replace("ù","ú"),t.push(`${o} ${n}`)}}));const a=l(".tab-administracao th");l(".tab-administracao tr").forEach((e=>{l("td",e).forEach(((e,o)=>{let n=e.textContent;t.push(`${a[o].textContent}: ${n}`)}))})),o.write(t.join(", ")).then((()=>n.fire("Copiado!")))};return{applyFeatures:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados (Recurso de Glosa)",iconClass:"lar la-copy",click:s}])}}}();e.pages.AutorizacaoUltimasSolicitacoesBuscarStatusPage=s}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:i}=e.modules,{$:r,$$:l}=i,s=function(){const e=/extrato\/buscarLote/,i=function(){let e=l('form[id*="formularioTratarGlosas"]'),t=[],a=[];e.forEach((e=>{var t=r("table",e);l("tbody tr",t).forEach((e=>{l("td",e).forEach((e=>{let t=e.firstElementChild;t&&"A"===t.nodeName&&a.push(t)}))}))}));let i=()=>{let e=a.shift();var s=[];e.click();let c=setInterval((()=>{let e=r("#TB_ajaxContent");if(!e)return;clearInterval(c);let d=[];l("label",e).forEach((e=>{let t=e.textContent.replace(":","").trim(),o=r("span",e.parentElement).textContent.replace(".",",").trim();if(/Motivo.+Glosa/.test(t)){let t=l("ul li",e.parentElement.parentElement);return t=t.map((e=>e.textContent.trim())).map((e=>e.replace(/\t/g,""))),o+=` (${t.join(";\n")});`,void d.push(o)}s.push(o)})),d&&s.push(`="${d.join('"&CHAR(10)&"')}"`),t.push(s.join("\t")),r(".TB_closeWindowButton",e).click();let u=setInterval((()=>{r("#TB_ajaxContent")||(clearInterval(u),a.length?i():o.write(t.join("\n")).then((()=>n.fire("Copiado!"))))}),250)}),250)};i()},s=function(){let e=l('form[id*="formularioTratarGlosas"]'),t=[],a=[];e.forEach((e=>{var o=r("table",e);l("tbody tr",o).forEach((o=>{var n=[];l("label",e).forEach((e=>{let t=r("span",e.parentElement).textContent.trim();n.push(t)})),l("td",o).forEach((e=>{let t=e.firstElementChild;t&&"A"===t.nodeName&&a.push(t);let o=e.textContent.replace("R$","").trim();o&&n.push(o)})),n.push(r(".tab-administracao tbody tr td").textContent.trim()),t.push(n.join("\t"))}))})),o.write(t.join("\n")).then((()=>n.fire("Copiado!")))};return{applyFeatures:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados (deep)",iconClass:"lar la-clipboard",click:i},{textLabel:"Copiar dados",iconClass:"lar la-copy",click:s}])}}}();e.pages.ExtratoBuscarLotePage=s}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:i}=e.modules,{$:r,$$:l}=i,s=function(){const e=/extrato\/detalhePagamento/,i=function(){let e=l("#dados-solicitacao label"),t=[],a=[];e.forEach((e=>{let o=r("span",e.parentElement).textContent.replace("R$","").trim();t.push(o)}));let i=t.join("\t");a.push(i);let s=a.join("\n");o.write(s).then((()=>n.fire("Copiado!")))};return{applyFeatures:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados",iconClass:"lar la-copy",click:i}])}}}();e.pages.ExtratoDetalhePagamentoPage=s}(Presto,location),function(e,t,o){"use strict";const{PersonModel:n}=e.models,{Snackbar:a,FAB:i,Modal:r,DomHelper:l}=e.modules,{$:s,$$:c}=l,d=function(){const e=/faturamento\/digitar\/spsadt/,l="#presto-appointments-days",d="#presto-appointments-month-year",u="#presto-appointments-unit-value",m=(e,t,n,i)=>{let r=e.shift();s("#bt-addProcedimento").click(),s("#dataModalProcedimento").value=r+t;const l=s("#labelOrdemItemModalProcedimento");s("input",l.parentElement).value=n-e.length,s("#tipoTabelaModalProcedimento").value=22,s("#codigoModalProcedimento").value=50000470,s("#codigoModalProcedimento").onblur();let c=setInterval((()=>{let r=s("#descricaoModalProcedimento");r.value&&(clearInterval(c),s("#quantidadeModalProcedimento").value=1,o("#porcentagemRedAcrModalProcedimento").unmask(),s("#porcentagemRedAcrModalProcedimento").value="1.00",s("#valorUnitarioModalProcedimento").value=i.replace(",","."),s("#valorUnitarioModalProcedimento").onblur(),c=setInterval((()=>{r=s("#valorTotalModalProcedimento"),r.value&&(clearInterval(c),setTimeout((()=>{s("#bt-operacaoModalProcedimento").click(),e.length?setTimeout((()=>m(e,t,n,i)),1e3):a.fire("Pronto!")}),1e3))}),250))}),250)},p=()=>{let e=s(l).value;if(!e)return void a.fire("Informe os dias dos procedimentos!");let t=s(d).value;if(!t)return void a.fire("Informe o mês/ano dos procedimentos!");let o=s(u).value;if(!o)return void a.fire("Informe o valor unitário dos procedimentos no formato 12,34!");e=e.split(",").map((e=>e.padStart(2,"0"))),t=`/${t}`;const n=e.length;s("#procedimentosRealizados").parentElement.scrollIntoView({behavior:"smooth",block:"start"}),(()=>{let e=s("#trProcedimento0");if(e&&c("td",e).filter((e=>"-"===e.textContent)).length){s("input",e).checked=!0;const t=s("#bt-addProcedimento");s(".bt-remover",t.parentElement).click()}})(),m(e,t,n,o)},f=()=>{const e=new Date;e.setMonth(e.getMonth()-1);return new Intl.DateTimeFormat("pt-BR",{month:"2-digit",year:"numeric"}).format(e)},g=()=>{let e=document.createElement("div");return e.appendChild(r.helpers.buildFormGroup({textLabel:"DIAS",input:{id:l.substring(1)},helpText:"Ex.: 7,14,21,28"})),e.appendChild(r.helpers.buildFormGroup({textLabel:"MÊS/ANO",input:{id:d.substring(1),value:f()},helpText:"Ex.: 06/2021"})),e.appendChild(r.helpers.buildFormGroup({textLabel:"VALOR UNITÁRIO",input:{id:u.substring(1),value:"58,37"},helpText:"Ex.: 58,37"})),e},h=function(){let e={uid:"",name:"",password:"",props:[]};setTimeout((()=>{e.uid=s("#txtNumeroCarteirinhaBeneficiario").value,e.name=s("#txtNomeBeneficiario").value,e.password=s("#senha").value}),500);let t=["dataModalProcedimento","ordemItemModalProcedimento"];c("input[type=text],select,textarea").filter((e=>!1===t.includes(e.id))).map((t=>{let o=t.onchange;t.onchange=t=>{let n=e.props.find((e=>e.id===t.target.id));n?t.target.value?n.value=t.target.value:e.props=e.props.filter((e=>e.id!==t.target.id)):e.props.push({id:t.target.id,value:t.target.value}),o&&o()}})),(e=>{const t=s("#gravarAlteracoes"),o=t.onclick;t.onclick=()=>{n.getOrCreateDB().then((t=>n.addOrUpdateItem(t,e))).then((()=>{o&&o()})).catch((e=>{console.log(`_watchForm: ${JSON.stringify(e)}`)}))}})(e)},b=()=>{n.getOrCreateDB().then(n.getAll).then((e=>{e&&e.length&&(e=>{let t=document.createElement("label");t.textContent="Presto.js - Lista de Pacientes:",t.style.marginRight="1em";let o=document.createElement("select"),n=document.createElement("option");n.value="",n.textContent="Selecione...",o.appendChild(n),e.forEach((e=>{let t=document.createElement("option");t.value=e.password,t.textContent=`${e.name} - ${e.uid}`,o.appendChild(t)})),o.onchange=e=>{s("#senha").value=e.target.value};let a=document.createElement("div");a.style.paddingBottom="3em",a.style.textAlign="center",a.appendChild(t),a.appendChild(o);const i=s("#formularioDigitacaoSPSADT fieldset div");i.insertBefore(a,i.firstChild)})(e)})).catch((e=>{console.log(`__loadProfiles :: ${JSON.stringify(e)}`)}))},v=()=>{r.open({title:"Adicionar Procedimentos",content:g(),mainAction:p})};return{applyFeatures:()=>{if(!e.test(t.pathname))return;(()=>{const e=window.removerItemDigitacao;window.removerItemDigitacao=(...t)=>{try{e(...t)}catch(e){}}})(),r.init(),b(),i.build([{textLabel:"Adicionar Procedimentos",iconClass:"las la-calendar-plus",click:v},{textLabel:"IndexedDB: Criar relatório",iconClass:"las la-external-link-alt",click:n.createReport}]);const o=s("#senha");s("a.bt-procurar",o.parentElement).addEventListener("click",(()=>{let e=setInterval((()=>{s("#txtDataValidadeSenha").value&&(clearInterval(e),setTimeout((()=>{try{s("#txtNumeroGuiaPrestador").value=(new Date).getTime(),(()=>{const e=s("#txtDataValidadeSenha");let t=e.value.split("/").map((e=>parseInt(e)));if(t[1]+=-1,new Date(...t.reverse())<new Date)throw e.style.border="red 2px solid",e.style.color="red",s("label",e.parentElement).style.color="red",new Error("Senha vencida!")})(),Array.from(s("#txtTipoDocumentoContratado").options).find((e=>"CPF"===e.textContent)).selected=!0,s("#txtNomeProfissionalSolicitante").value=s("#txtNomeContratado").value,Array.from(s("#txtUFProfissionalSolicitante").options).find((e=>"RS"===e.value)).selected=!0,Array.from(s("#txtTipoConselhoProfissionalSolicitante").options).find((e=>/CRP/.test(e.textContent))).selected=!0,s("#txtNumeroConselhoProfissionalSolicitante").value="05014",Array.from(s("#txtCBOSProfissionalSolicitante").options).find((e=>/Psic.logo cl.nico/.test(e.textContent))).selected=!0,Array.from(s("#txtCaraterInternacao").options).find((e=>/Eletiva/.test(e.textContent))).selected=!0,s("#txtAreaIndicacaoClinica").value="Sessões de Terapia",Array.from(s("#txtTipoAtendimento").options).find((e=>/Outras Terapias/.test(e.textContent))).selected=!0,Array.from(s("#txtTipoConsulta").options).find((e=>/Seguimento/.test(e.textContent))).selected=!0,Array.from(s("#txtRegimeAtendimento").options).find((e=>/Ambulatorial/.test(e.textContent))).selected=!0,Array.from(s("#txtIndicacaoAcidente").options).find((e=>/N.o Acidentes/.test(e.textContent))).selected=!0,h()}catch(e){a.fire(e.message)}}),1e3))}),200)}))}}}();e.pages.FormularioDigitarSPSADTPage=d}(window.Presto,window.location,window.jQuery),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:i}=e.modules,{$$:r}=i,l=function(){const e=/faturamento\/visualizar\/detalharLote/,i=function(){let e=r(".tab-administracao tbody tr"),t=[],a=[];e.forEach((e=>{r("td",e).forEach((e=>{let o=e.textContent;/^R\$/.test(o)&&(o=o.replace("R$","")),t.push(o.trim())}));let o=t.join("\t");a.push(o),t=[]}));let i=a.join("\n");o.write(i).then((()=>n.fire("Copiado!")))};return{applyFeatures:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados",iconClass:"lar la-copy",click:i}])}}}();e.pages.FaturamentoVisualizarDetalharLotePage=l}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,CommonsHelper:i,DomHelper:r}=e.modules,{$:l,$$:s}=r,c=function(){const e=/faturamento\/visualizar\/filtrarPorData/,r=function(){let e=s("#tblListaLoteFaturamento tbody tr"),t=[],a=[];e.forEach((e=>{const o=[2,3,4,5,6,7];s("td",e).forEach(((e,n)=>{if(o.includes(n)){let o=e.textContent;/\d+\.\d+/.test(o)&&(o=o.replace(".",",")),t.push(o.trim())}}));let n=t.join("\t");a.push(n),t=[]}));let i=a.join("\n");o.write(i).then((()=>n.fire("Copiado!")))};return{applyFeatures:()=>{if(!e.test(t.pathname))return;a.build([{textLabel:"Copiar dados",iconClass:"lar la-copy",click:r}]);const o=i.createSelectOptionsMonthYear({dateBeginFieldId:"#txtVisualizarDataInicial",dateEndFieldId:"#txtVisualizarDataFinal"});o.style.paddingBottom="3em",o.style.marginLeft="8em";const n=l("#formularioFiltroVisualizarDigitacao fieldset");n.insertBefore(o,n.firstChild)}}}();e.pages.FaturamentoVisualizarFiltrarPorDataPage=c}(Presto,location),function(e,t){"use strict";const{CommonsHelper:o,DomHelper:n}=e.modules,{$:a}=n,i=function(){const e=/faturamento\/visualizar\/filtro/;return{applyFeatures:()=>{if(!e.test(t.pathname))return;const n=o.createSelectOptionsMonthYear({dateBeginFieldId:"#txtVisualizarDataInicial2",dateEndFieldId:"#txtVisualizarDataFinal2"});n.style.paddingBottom="3em",n.style.marginLeft="8em";const i=a("#formularioFiltroVisualizarDigitacao fieldset");i.insertBefore(n,i.firstChild)}}}();e.pages.FaturamentoVisualizarFiltroPage=i}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:i}=e.modules,{$:r,$$:l}=i,s=function(){const e=/recursoglosa\/buscaDetalheRecursoGlosa/,i=["Contrato","Prestador","Área","Código Procedimento","Quantidade","Procedimento"],s=function(){let e=l("#body label"),t=[],a=[],s=!1;e.forEach((e=>{if(s)return;let o=e.textContent;o=o?o.replace(":","").trim():"";let n="";if(/Motivo.+Glosa/.test(o)){let t=l("ul li",e.parentElement);t=t.map((e=>e.textContent.trim())),n=t.join(";"),s=!0}else{if(!1!==i.some((e=>e==o)))return;{let t=r("span",e.parentElement);n=t?t.textContent:"",n=n?n.replace("R$","").trim():""}}t.push(n)})),a.push(t.join("\t")),o.write(a.join("\n")).then((()=>n.fire("Copiado!")))},c=function(){let e=l("#body label"),t=!1,a="";e.forEach((e=>{if(t)return;let o=e.textContent;if(o=o?o.replace(":","").trim():"",/Motivo.+Glosa/.test(o)&&(t=!0),/^Recurso/.test(o)){let t=r("span",e.parentElement),o=t?t.textContent:"";a=o?o.replace("R$","").trim():""}}));let i=[];l(".box-resposta-mensagem,.box-resposta-resposta").forEach((e=>{let t=r(".box-resposta-p1 div",e),o=r("label",t).textContent.trim(),n=r("span",t).textContent.trim(),l=r(".box-resposta-p2 span",e).textContent.trim();l=l.replace(/[\n\t]*/g,"");let s=[a,o,n,l];i.push(s.join("\t"))})),o.write(i.join("\n")).then((()=>n.fire("Copiado!")))};return{applyFeatures:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar detalhes",iconClass:"lar la-copy",click:s},{textLabel:"Copiar mensagens",iconClass:"lar la-copy",click:c}])}}}();e.pages.RecursoGlosaBuscaDetalhePage=s}(Presto,location),function(e,t){"use strict";const{Snackbar:o,FAB:n,Modal:a,DomHelper:i}=e.modules,{$:r}=i,l=function(){const e=/recursoglosa\/filtroNew/,i="#presto-protocols",l=()=>{let e=document.createElement("div");return e.appendChild(a.helpers.buildFormGroup({textLabel:"PROTOCOLOS",input:{id:i.substring(1)},helpText:"Ex.: 147634317,147634318 ou 147634317 147634318"})),e},s=()=>{let e=r(i).value;if(!e)return void o.fire("Informe os protocolos de recurso de glosa!");let t=e.split(/[,\s]/);const n=()=>{let e=t.shift();r("#acompanharSolicitacao_protocoloRecurso").value=e,r("#acompanharSolicitacao_btnBuscar").click();const a=setInterval((()=>{let i=r(`tr[id="${e}"]`);if(!i)return;clearInterval(a);let l=r('td[aria-describedby*="statusRecurso"]',i).textContent;console.log(`${e}: ${l}`),t.length?n():o.fire("Pronto! Use F12 para ver os resultados.")}),250)};n()},c=()=>{a.open({title:"Verificar status",content:l(),mainAction:s})};return{applyFeatures:()=>{e.test(t.pathname)&&(a.init(),n.build([{textLabel:"Verificar status em massa",iconClass:"las la-search",click:c}]))}}}();e.pages.RecursoGlosaFiltroPage=l}(Presto,location),function(e,t){"use strict";const{RecursoGlosaBuscaDetalhePage:o,RecursoGlosaFiltroPage:n,ExtratoDetalhePagamentoPage:a,ExtratoBuscarLotePage:i,FormularioDigitarSPSADTPage:r,AutorizacaoUltimasSolicitacoesPage:l,AutorizacaoUltimasSolicitacoesBuscarStatusPage:s,FaturamentoVisualizarFiltroPage:c,FaturamentoVisualizarFiltrarPorDataPage:d,FaturamentoVisualizarDetalharLotePage:u}=e.pages,{DomHelper:m}=e.modules,{$:p}=m,f=function(){const e=/portaltiss\.saudepetrobras\.com\.br/;return{isCurrentHost:function(){return e.test(t.host)},isPageReady:function(){return[".titulos-formularios",".box-formularios"].some((e=>p(e)))},applyFeatures:function(){o.applyFeatures(),n.applyFeatures(),a.applyFeatures(),i.applyFeatures(),r.applyFeatures(),l.applyFeatures(),s.applyFeatures(),c.applyFeatures(),d.applyFeatures(),u.applyFeatures()}}}();e.modules.SaudePetrobras=f}(Presto,location),function(e,t){"use strict";const{Snackbar:o,FAB:n,DomHelper:a}=e.modules,{$:i,$$:r}=a,l=function(){const e=/GuiasTISS\/FaturamentoAtendimentos/;let a=[],l="[data-bind='displayDate: dataLiberacaoProcedimento']",s="td .pointer.text-success",c="td .pointer.text-danger",d="[data-bind='tooltip:{ title: translateStatusConferecia(statusConferenciaOb()) }, click: modificarStatusConferencia']";const u=()=>{const e=a.shift(),t=i(l,e).textContent,n=(e=>{const t=e.split("/"),o=parseInt(t[2]),n=parseInt(t[1]),a=new Date;return a.setDate(0),o===a.getFullYear()&&n===a.getMonth()+1})(t);n?(i(s,e).click(),console.log(`${t}: OK`)):(i(c,e).click(),console.log(`${t}: Removed!`));const r=setInterval((()=>{const t=i(d,e),l="text-"+(n?"success":"danger");Array.from(t.classList).includes(l)&&(clearInterval(r),a.length?u():o.fire("Pronto!"))}),250);setTimeout((()=>clearInterval(r)),1e4)},m=()=>{const e=r("#lote-detalhes tbody");a=r("tr td span[data-bind='displayDate: dataLiberacaoProcedimento']",e[0]).map((e=>e.parentElement.parentElement)),u()};return{applyFeatures:()=>{e.test(t.pathname)&&n.build([{textLabel:"Validar Atendimentos",iconClass:"lar la-list-alt",click:m}])}}}();e.pages.FaturamentoAtendimentosPage=l}(Presto,location),function(e,t){"use strict";const{Clipboard:o,Snackbar:n,FAB:a,DomHelper:i}=e.modules,{$:r,$$:l}=i,s=function(){const e=/GuiasTISS\/LocalizarProcedimentos/,i=()=>{const e=["Senha","CodigoBenficiario","NomeBeneficiario"];let t=[];l("[data-bind*=guia-template]").forEach((o=>{let n=[];e.forEach((e=>{n.push(r(`[data-bind*=${e}]`,o)?.textContent)})),t.push(n.join("\t"))})),o.write(t.join("\n")).then((()=>n.fire("Copiado!")))};return{applyFeatures:()=>{e.test(t.pathname)&&a.build([{textLabel:"Copiar dados (relatório mensal)",iconClass:"lar la-clipboard",click:i}])}}}();e.pages.LocalizarProcedimentosPage=s}(Presto,location),function(e,t,o){"use strict";const{PatientModel:n}=e.models,{FAB:a,Modal:i,DomHelper:r}=e.modules,{$:l,$$:s}=r,c=function(){const e=/GuiasTISS\/GuiaSPSADT\/ViewGuiaSPSADT/,r="presto-profiles-select",c="presto-profiles-bulk-insert-appointments",d=(e,t)=>{const n=setInterval((()=>{const a=o(e).autocomplete("widget").find("li.ui-menu-item:first");a?.length&&(clearInterval(n),a.trigger("mouseenter").trigger("click"),t&&setTimeout(t,1e3))}),500)},u=e=>t=>{const n=e.find((e=>t.target.value===e.id)),a="#numeroDaCarteira";o(a).val(n.id),o(a).autocomplete("search"),d(a,(()=>{(e=>{const t="#idContratadoSolicitante";o(t).val(e.spc.id),o(t).autocomplete("search"),d(t,(()=>{l("#ui-accordion-accordion-header-2").click(),setTimeout((()=>{l("#incluirProcedimento").click();const e=setInterval((()=>{l("#registroProcedimentoID").textContent&&(clearInterval(e),l("#btnGravar").click())}),250)}),500)}))})(n)}))},m=e=>{let t=document.createElement("div");return t.id=c,e.forEach((e=>t.appendChild(i.helpers.buildFormCheck({textLabel:e.name,input:{id:e.id,value:e.id}})))),t},p=()=>{const e=l("footer p").textContent.split("\n").map((e=>e.trim())).filter((e=>e));return{id:e[0].replace(/\D/g,""),name:e[1]}},f=()=>{const e=localStorage.getItem(c);if(e){const t=e.split(","),o=t.shift(),n=l(`#${r}`);n.value=o,n.dispatchEvent(new Event("change",{bubbles:!0})),t.length?localStorage.setItem(c,t.join(",")):localStorage.removeItem(c)}},g=()=>{const e=l(`#${c}`);localStorage.setItem(c,s('input[type="checkbox"]:checked',e).map((e=>e.value)).join(",")),f()},h=e=>()=>{i.open({title:"Adicionar Procedimentos em Lote",content:m(e),mainAction:g})},b=()=>{const e="__initialConfig";console.log(`${e} - Enter`);try{l("#dataSolicitacao").value=new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date),l("#tipoAtendimento").value="3",(()=>{const e=l("#incluirProcedimento"),t=e.onclick;e.onclick=()=>{t();const e="#registroProcedimentoCodigo input";o(e).val("20104219"),o(e).autocomplete("search"),d(e,(()=>{l("#confirmarEdicaoDeProcedimento").click()}))}})(),(()=>{const e=l("#btnGravar"),t=e.onclick;e.onclick=()=>{const e=p(),o={id:l("#numeroDaCarteira").value,name:l("#nomeDoBeneficiario").value,spc:{id:l("#idContratadoSolicitante").value,name:l("#nomeContratadoSolicitante").value},acc:{id:e.id,name:e.name}};n.getOrCreateDB().then((e=>n.addOrUpdateItem(e,o))).then((()=>{t&&t();const e=setInterval((()=>{const t=s("b"),o=t?.find((e=>e.textContent.includes("Nº Guia Operadora"))),n=o?.closest(".ui-dialog"),a=l("#fechar",n);a?.offsetParent&&(clearInterval(e),setTimeout((()=>a.click()),1e3))}),250)})).catch((e=>{console.log(`__handleBtnGravar: ${JSON.stringify(e)}`)}))}})()}finally{console.log(`${e} - Exit`)}},v=async()=>{const e="_applyFeatures";console.log(`${e} - Enter`);try{i.init();const e=await n.getOrCreateDB().then(n.getAll).then((e=>{if(e&&e.length){const t=p();return e.filter((e=>e.acc.id===t.id))}return[]})).catch((e=>{console.error("__loadProfiles",e)}));(e=>{const t=document.createElement("span");t.classList.add("elementTitle"),t.textContent="Presto.js - Lista de Pacientes:";const o=document.createElement("select");o.id=r,o.classList.add("elementInput"),o.style.width="300px";const n=document.createElement("option");n.value="",n.textContent="Selecione...",o.appendChild(n),e.forEach((e=>{const t=document.createElement("option");t.value=e.id,t.textContent=e.name,o.appendChild(t)})),o.onchange=u(e);const a=document.createElement("div");a.classList.add("innerDivOfNormalElementItem"),a.style.width="312px",a.style.height="46px",a.appendChild(t),a.appendChild(o);const i=document.createElement("div");i.classList.add("elementItem"),i.style.width="316px",i.append(a);const s=document.createElement("div");s.classList.add("lineOfElements"),s.style.marginBottom="2em",s.append(i);const c=l("#guiaDadosPrincipais");c.insertBefore(s,c.firstChild)})(e),b(),a.build([{textLabel:"Adicionar Procedimentos em Lote",iconClass:"las la-calendar-plus",click:h(e)}]),f()}finally{console.log(`${e} - Exit`)}};return{applyFeatures:()=>{const o="applyFeatures";console.log(`${o} - Enter`);try{if(e.test(t.pathname)){console.log(`${o} - Matches with location ${t.pathname}`);const e=setInterval((()=>{l("#btnGravar")&&(clearInterval(e),v())}),250)}}finally{console.log(`${o} - Exit`)}}}}();e.pages.ViewGuiaSPSADTPage=c}(window.Presto,window.location,window.jQuery),function(e,t){"use strict";const{LocalizarProcedimentosPage:o,ViewGuiaSPSADTPage:n,FaturamentoAtendimentosPage:a}=e.pages,{DomHelper:i}=e.modules,{$:r}=i,l=function(){const e=/novowebplancanoasprev\.facilinformatica\.com\.br/;return{isCurrentHost:function(){return e.test(t.host)},isPageReady:function(){return r(".form-control")},applyFeatures:function(){n.applyFeatures(),o.applyFeatures(),a.applyFeatures()}}}();e.modules.CanoasPrev=l}(Presto,location),function(e,t){"use strict";const{PatientModel:o}=e.models,{CommonsHelper:n,DomHelper:a}=e.modules,{$:i,$$:r}=a,l=function(){const e=/prestador\/guiaexameexecucao/,a=()=>{const e="_sortGuidesByPatientName";console.log(`${e} - Enter`);try{const e=document.getElementById("mainForm:resultadoPesquisaTable:tb"),t=r("tr.rich-table-row",e),o="span[id$=nomePacientTooltip]";t.sort(((e,t)=>{const n=i(o,e).textContent.trim(),a=i(o,t).textContent.trim();return n.localeCompare(a)})),t.forEach((t=>e.appendChild(t)))}finally{console.log(`${e} - Exit`)}},l=e=>()=>{const t="__awaitOpeningModalToExecuteProcedure";console.log(`${t} - Enter`);try{return new Promise((o=>{const n="#panelResumoGuia",a=setInterval((()=>{console.log(`${t} - setInterval - Enter`);try{const l=i(`${n} [id*="listaCarteiraConvenio"]`);if(l){clearInterval(a),console.log(`${t} - setInterval - clearInterval`),e.id=l.textContent.replace(/\D/g,"");const i=r(`${n} span.resumoMenuItem a`);Array.from(i).find((e=>"Executar procedimento"===e.textContent)).click(),o()}}finally{console.log(`${t} - setInterval - Exit`)}}),1e3)}))}finally{console.log(`${t} - Exit`)}},s=()=>{const e="__awaitLoadingSADTExecutionView";console.log(`${e} - Enter`);try{return new Promise((t=>{const o=setInterval((()=>{console.log(`${e} - setInterval - Enter`);try{i('input[id="formAddUpdate:profissionalexecucaoExame"]')&&(clearInterval(o),console.log(`${e} - setInterval - clearInterval`),t())}finally{console.log(`${e} - setInterval - Exit`)}}),500)}))}finally{console.log(`${e} - Exit`)}},c=e=>()=>{const t="__fillProfessionalField";console.log(`${t} - Enter`);try{const o=i('input[id="formAddUpdate:profissionalexecucaoExame"]');function n(e){const t=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:32,code:"Space",key:" "});e.dispatchEvent(t)}o.value=e.professional,n(o);const a=i('div[id*="formAddUpdate"].rich-sb-common-container');return new Promise((o=>{const n=setInterval((()=>{console.log(`${t} - setInterval - Enter`);try{if("none"!==a.style.display){clearInterval(n),console.log(`${t} - setInterval - clearInterval`);r('table.rich-sb-ext-decor-3 td[class*="rich-table-cell"] span',a).filter((t=>t.textContent==e.professional))[0].click(),o()}}finally{console.log(`${t} - setInterval - Exit`)}}),1e3)}))}finally{console.log(`${t} - Exit`)}},d=()=>{const e="__awaitOpeningModalToAuthenticatePatient";console.log(`${e} - Enter`);try{return i(".button-autenticar").click(),new Promise((t=>{const o=setInterval((()=>{console.log(`${e} - setInterval[0] - Enter`);try{const n=i("#autenticarModalPanelVirtualCDiv");if(n?.offsetParent){clearInterval(o),console.log(`${e} - setInterval[0] - clearInterval`),r('input[type="radio"]',n)[1].click();const a=setInterval((()=>{console.log(`${e} - setInterval[1] - Enter`);try{const o=i('input[id*="senhaPacienteBiometria"]',n);o?.offsetParent&&(clearInterval(a),console.log(`${e} - setInterval[1] - clearInterval`),t())}finally{console.log(`${e} - setInterval[1] - Enter`)}}),250)}}finally{console.log(`${e} - setInterval[0] - Exit`)}}),250)}))}finally{console.log(`${e} - Exit`)}},u=e=>async()=>{const t="__fillAuthentication";console.log(`${t} - Enter`);try{const n={modal:"#autenticarModalPanelVirtualCDiv",inputPwd:'input[id*="senhaPacienteBiometria"]',btnAuth:'input[id*="autenticarPacienteModalPanelButton"]',btnFinish:'a[title="Finalizar execução"]',dlErrorMessage:'dl[id*="panelMensagensAutenticarConfirmacaoUpVirtual"]'},a=i(n.modal),r=async()=>{const r="upsertItem";console.log(`${t}.${r} - Enter`),await o.getOrCreateDB().then((l=>(e.password=i(n.inputPwd,a).value,o.addOrUpdateItem(l,e).then((()=>{console.log(`${t}.${r} - Exit`)})))))};return new Promise((async l=>{const s=async e=>{const o="triggerBtnAuth";console.log(`${t}.${o} - Enter`);try{let e=i(n.dlErrorMessage,a);e&&e.remove(),await r();const c=setInterval((()=>{const e="interval";console.log(`${t}.${o}.${e} - Enter`);try{if(a.offsetParent){if(i(n.dlErrorMessage,a)){clearInterval(c),console.log(`${t}.${o}.${e} - errorMessage => clearInterval`);i(n.btnAuth,a).addEventListener("click",s)}}else clearInterval(c),console.log(`${t}.${o}.${e} - success => clearInterval`),l()}finally{console.log(`${t}.${o}.${e} - Exit`)}}),1e3)}finally{console.log(`${t}.${o} - Exit`)}};let c=i(n.dlErrorMessage,a);c&&c.remove();const d=i(n.btnAuth,a);d.addEventListener("click",s);const u=await o.getOrCreateDB().then(o.getAll).then((t=>t.find((t=>t.id===e.id))));u?(i(n.inputPwd,a).value=u.password,d.dispatchEvent(new Event("click",{bubbles:!0}))):console.log(`${t} - No patient found in DB ${JSON.stringify(e)}`)}))}finally{console.log(`${t} - Exit`)}},m=()=>{const e="__finishProcess";console.log(`${e} - Enter`);try{const t={modal:"#autenticarModalPanelVirtualCDiv",btnFinish:'a[title="Finalizar execução"]'},o=i(t.modal);return new Promise((n=>{const a=setInterval((()=>{const r="setInterval";console.log(`${e}.${r} - Enter`);try{o.offsetParent||(clearInterval(a),console.log(`${e}.${r} - clearInterval`),setTimeout((()=>{i(t.btnFinish).click(),n()}),1e3))}finally{console.log(`${e}.${r} - Exit`)}}),1e3)}))}finally{console.log(`${e} - Exit`)}},p=()=>{const e="_configureAddAutomaticAppointment";console.log(`${e} - Enter`);try{const e={patient:'span[id$="nomePacientTooltip"]',closestTD:'td[id^="mainForm:resultadoPesquisaTable"]',grid:'span[id="mainForm:panelResultadoPesquisaGrid"]'},t=e=>{const t=e.closest("table"),o=t?i('[title="Médico"]',t):null;return{name:(e.textContent||"").trim(),professional:o?o.textContent.trim():""}},o=o=>{const a=o.target.closest(e.closestTD);if(!a)return;const r=i(e.patient,a);(async e=>{const t="_patientOnClick";console.log(`${t} - Enter`);try{const{Taskier:t}=n,o=t.mapToFunc([t.toFunc(l(e)),t.toFunc(s),t.toFunc(c(e)),t.toFunc(d),t.toFunc(u(e)),t.toFunc(m)]);await t.exec(o,1e3)}finally{console.log(`${t} - Exit`)}})(t(r))},a=i(e.grid);a._hasTriggerPatientOnClick||(a.addEventListener("click",o),a._hasTriggerPatientOnClick=!0)}finally{console.log(`${e} - Exit`)}};return{applyFeatures:()=>{const o="applyFeatures";console.log(`${o} - Enter`);try{if(!e.test(t.pathname))return;setInterval((()=>{try{const e=document.getElementById("mainForm:resultadoPesquisaTable:tb");if(e?.textContent){i("#prestoSetup")||((()=>{const e="_addSortAZButton";console.log(`${e} - Enter`);try{const e=document.createElement("div");e.id="prestoSetup",e.style.float="right";const t=document.createElement("a");t.textContent="A→Z",t.href="javascript:void(0)",t.onclick=a,e.appendChild(t),i('div[id="mainForm:panelConfigPesquisa"] div.configPesquisaItens').appendChild(e)}finally{console.log(`${e} - Exit`)}})(),p())}}finally{}}),1e3)}finally{console.log(`${o} - Exit`)}}}}();e.pages.ExecucaoGuiaSADTPage=l}(window.Presto,window.location),function(e,t){"use strict";const{ExecucaoGuiaSADTPage:o}=e.pages,{DomHelper:n}=e.modules,{$:a}=n,i=function(){const e=/portal\.cabergs\.org\.br/;return{isCurrentHost:function(){return e.test(t.host)},isPageReady:function(){return a("#container")},applyFeatures:function(){o.applyFeatures()}}}();e.modules.Cabergs=i}(Presto,location),function(e,t,o){"use strict";const{Snackbar:n,FAB:a}=e.modules,i=function(){const e=/bancario\/index/,n=()=>{o(".selectpicker").selectpicker("val","19")};return{applyFeatures:()=>{e.test(t.pathname)&&a.build([{textLabel:"Receita: Setar categoria padrão",iconClass:"las la-wrench",click:n}])}}}();e.pages.ConciliacaoBancariaPage=i}(window.Presto,window.location,window.jQuery),function(e,t,o){"use strict";const{CommonsHelper:n,DomHelper:a}=e.modules,{$:i,$$:r}=a,l=function(){const e=/notas_fiscais\/emitir_nota/,a=()=>{(()=>{const e=o("#tomador"),t=e.find("option").sort((function(e,t){return o(e).text().localeCompare(o(t).text())}));e.html(t),e.prepend(e.find("option:last"))})();const e=setInterval((()=>{const t=i("#servico-block");if("none"!==t?.style.display){clearInterval(e),n.selectOption("#servico","Psicologia");const o=document.createElement("a");o.href="#",o.textContent="Aplicar Valores Padrão",o.style.cssText="\n              display: inline-block;\n              margin-bottom: 10px;\n              padding: 8px 12px;\n              background-color: #7e2993;\n              color: white;\n              text-decoration: none;\n              border-radius: 4px;\n              font-size: 14px;\n              font-weight: bold;\n            ",o.onclick=e=>{e.preventDefault(),(()=>{n.selectOption("#codNbs","1.2301.98.00 - Serviços de psicologia"),n.selectOption("#localServico","Em meu endereço"),n.selectOption("#CST","1 - Tributada integralmente e sujeita ao regime do Simples Nacional");const e=i("#servicoDescricao");e.value="Sessões de Terapia",e.rows=1;const t=i('input[name="tributos_opcao"][value="nao_informar"]');t.checked=!0,t.dispatchEvent(new Event("change",{bubbles:!0})),["#imposto-retido-block > .block-header","#valor-calculo-block > .block-header","#valor-tributos-block > .block-header"].forEach((e=>{i(e).classList.remove("is-open")}))})()},t.parentNode.insertBefore(o,t)}}),250)};return{applyFeatures:()=>{if(e.test(t.pathname)){const e=setInterval((()=>{i("#servicoDescricao")&&(clearInterval(e),a())}),250)}}}}();e.pages.EmitirNotaFiscalPage=l}(window.Presto,window.location,window.jQuery),function(e,t){"use strict";const{EmitirNotaFiscalPage:o,ConciliacaoBancariaPage:n}=e.pages,{DomHelper:a}=e.modules,{$:i}=a,r=function(){const e=/app\.contaagil\.com\.br/;return{isCurrentHost:function(){return e.test(t.host)},isPageReady:function(){return i("#accordion")},applyFeatures:function(){o.applyFeatures(),n.applyFeatures()}}}();e.modules.ContaAgil=r}(Presto,location),function(e,t,o){const{Style:n,SulAmerica:a,SaudePetrobras:i,CanoasPrev:r,Cabergs:l,ContaAgil:s}=e.modules,c=[a,i,r,l,s],d={initWithDelay:function(){const e=t((()=>{c.some((e=>e.isCurrentHost()&&e.isPageReady()))&&(o(e),n.inject(),c.forEach((e=>{e.isCurrentHost()&&e.applyFeatures()})))}),250)}};e.bless=d.initWithDelay}(window.Presto,window.setInterval,window.clearInterval),function(e,t,o){const n=t((()=>{e&&(o(n),e.bless())}),250)}(window.Presto,window.setInterval,window.clearInterval);